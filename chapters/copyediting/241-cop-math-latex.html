<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.554">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Open Manual of Markdown Style - 26&nbsp; Math and LaTeX elements</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../chapters/copyediting/25-cop-imagify.html" rel="next">
<link href="../../chapters/copyediting/24-cop-bibliography.html" rel="prev">
<link href="../../media/dialoa.ico" rel="icon">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../../chapters/copyediting/12-cop-preliminaries.html">Copyediting</a></li><li class="breadcrumb-item"><a href="../../chapters/copyediting/241-cop-math-latex.html"><span class="chapter-number">26</span>&nbsp; <span class="chapter-title">Math and LaTeX elements</span></a></li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../../">Open Manual of Markdown Style</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">Authoring</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/authoring/00-aut-intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/authoring/10-aut-instructions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Instructions for authors</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/authoring/11-aut-grammar-usage.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Grammar and usage</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
 <span class="menu-text">Copyediting</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/copyediting/12-cop-preliminaries.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Preliminaries</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/copyediting/13-cop-preparing-a-manuscript.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Preparing a manuscript</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/copyediting/15-cop-markdown-intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">About Markdown copyediting</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/copyediting/155-cop-checklist.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Copyeditor workflow</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/copyediting/16-cop-metadata.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Metadata</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/copyediting/161-cop-title-and-subtitle.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Title and subtitle</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/copyediting/162-cop-author-information.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Author metadata</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/copyediting/163-cop-abstract-keywords-acknowledgments.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Abstract, keywords, acknowledgments</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/copyediting/17-cop-inline-elements.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Inline elements</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/copyediting/171-cop-inline-special-chars.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Special characters</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/copyediting/19-cop-block-elements.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Simple block elements</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/copyediting/191-cop-block-quotations.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Quotations</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/copyediting/192-cop-block-lists.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Lists</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/copyediting/193-cop-block-tables.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Tables</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/copyediting/194-cop-block-figures.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Figures (images, diagrams, graphs)</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/copyediting/195-cop-block-statements.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Statements and indented blocks</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/copyediting/196-cop-block-columns.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">Multiple columns</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/copyediting/199-cop-block-other.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title">Troublesome blocks</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/copyediting/20-cop-multiple-languages.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">Multiple languages</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/copyediting/21-cop-block-crossreferencing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">Cross-referencing</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/copyediting/23-cop-citations.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">24</span>&nbsp; <span class="chapter-title">Citations</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/copyediting/24-cop-bibliography.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">25</span>&nbsp; <span class="chapter-title">Bibliography</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/copyediting/241-cop-math-latex.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">26</span>&nbsp; <span class="chapter-title">Math and LaTeX elements</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/copyediting/25-cop-imagify.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">27</span>&nbsp; <span class="chapter-title">Imagify</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/copyediting/27-cop-troubleshooting.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">28</span>&nbsp; <span class="chapter-title">Trouble and troubleshooting</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/copyediting/29-cop-markdown-cheatsheet.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">29</span>&nbsp; <span class="chapter-title">Markdown Cheatsheet</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
 <span class="menu-text">Dialectica</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/dialectica/61-dialectica-new-house-outputs.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">30</span>&nbsp; <span class="chapter-title">Dialectica new house style outputs</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/dialectica/65-dialectica-troubleshooting-outputs.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">31</span>&nbsp; <span class="chapter-title">Troubleshooting outputs</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/dialectica/70-dialectica-titles.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">32</span>&nbsp; <span class="chapter-title">Title and subtitle</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/dialectica/71-dialectica-authors.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">33</span>&nbsp; <span class="chapter-title">Author information</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/dialectica/72-dialectica-abstract.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">34</span>&nbsp; <span class="chapter-title">Abstracts</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/dialectica/74-dialectica-reviews.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">35</span>&nbsp; <span class="chapter-title">Review articles</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/dialectica/75-dialectica-article-structure.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">36</span>&nbsp; <span class="chapter-title">Article structure</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/dialectica/80-dialectica-bibliography.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">37</span>&nbsp; <span class="chapter-title">Bibliography</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/dialectica/85-dialectica-missing-unicode-characters.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">38</span>&nbsp; <span class="chapter-title">Missing Unicode characters</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">
 <span class="menu-text">Design</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/design/52-pub-the-structure-of-volumes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">39</span>&nbsp; <span class="chapter-title">The structure of a book and a journal</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/design/55-pub-technical-howtos.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">40</span>&nbsp; <span class="chapter-title">Technical How-Tos</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true">
 <span class="menu-text">Publishing</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/publishing/42-ojs-advice.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">(PART) Open Journal Systems</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/publishing/51-pub-why-markdown.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">(PART) Publishing</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="true">
 <span class="menu-text">Appendices</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/appendices/terminal-help.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title">Terminal help</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/appendices/resources.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">B</span>&nbsp; <span class="chapter-title">Further resources</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/appendices/glossary.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">C</span>&nbsp; <span class="chapter-title">Glossary</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/appendices/references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">D</span>&nbsp; <span class="chapter-title">References</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#math-and-logic-conventions" id="toc-math-and-logic-conventions" class="nav-link active" data-scroll-target="#math-and-logic-conventions"><span class="header-section-number">26.1</span> Math and logic conventions</a></li>
  <li><a href="#formulas" id="toc-formulas" class="nav-link" data-scroll-target="#formulas"><span class="header-section-number">26.2</span> Formulas</a>
  <ul class="collapse">
  <li><a href="#basics" id="toc-basics" class="nav-link" data-scroll-target="#basics"><span class="header-section-number">26.2.1</span> Basics</a></li>
  <li><a href="#good-practices" id="toc-good-practices" class="nav-link" data-scroll-target="#good-practices"><span class="header-section-number">26.2.2</span> Good practices</a></li>
  </ul></li>
  <li><a href="#schematic-letters-in-the-text" id="toc-schematic-letters-in-the-text" class="nav-link" data-scroll-target="#schematic-letters-in-the-text"><span class="header-section-number">26.3</span> Schematic letters in the text</a></li>
  <li><a href="#sec-cop-math-latex-split-fractions" id="toc-sec-cop-math-latex-split-fractions" class="nav-link" data-scroll-target="#sec-cop-math-latex-split-fractions"><span class="header-section-number">26.4</span> Split fractions</a></li>
  <li><a href="#equations" id="toc-equations" class="nav-link" data-scroll-target="#equations"><span class="header-section-number">26.5</span> Equations</a>
  <ul class="collapse">
  <li><a href="#numbered-equations" id="toc-numbered-equations" class="nav-link" data-scroll-target="#numbered-equations"><span class="header-section-number">26.5.1</span> Numbered equations</a></li>
  </ul></li>
  <li><a href="#theorems-and-proofs" id="toc-theorems-and-proofs" class="nav-link" data-scroll-target="#theorems-and-proofs"><span class="header-section-number">26.6</span> Theorems and proofs</a>
  <ul class="collapse">
  <li><a href="#no-theorems-in-footnotes" id="toc-no-theorems-in-footnotes" class="nav-link" data-scroll-target="#no-theorems-in-footnotes"><span class="header-section-number">26.6.1</span> No theorems in footnotes</a></li>
  <li><a href="#more-theorem-options" id="toc-more-theorem-options" class="nav-link" data-scroll-target="#more-theorem-options"><span class="header-section-number">26.6.2</span> More theorem options</a></li>
  </ul></li>
  <li><a href="#natural-deduction-proofs-with-bussproofs" id="toc-natural-deduction-proofs-with-bussproofs" class="nav-link" data-scroll-target="#natural-deduction-proofs-with-bussproofs"><span class="header-section-number">26.7</span> Natural deduction proofs with <code>bussproofs</code></a>
  <ul class="collapse">
  <li><a href="#inline-bussproofs" id="toc-inline-bussproofs" class="nav-link" data-scroll-target="#inline-bussproofs"><span class="header-section-number">26.7.1</span> Inline bussproofs</a></li>
  <li><a href="#block-bussproofs" id="toc-block-bussproofs" class="nav-link" data-scroll-target="#block-bussproofs"><span class="header-section-number">26.7.2</span> Block bussproofs</a></li>
  </ul></li>
  <li><a href="#latex-new-and-redefined-commands" id="toc-latex-new-and-redefined-commands" class="nav-link" data-scroll-target="#latex-new-and-redefined-commands"><span class="header-section-number">26.8</span> Latex new and redefined commands</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../../chapters/copyediting/12-cop-preliminaries.html">Copyediting</a></li><li class="breadcrumb-item"><a href="../../chapters/copyediting/241-cop-math-latex.html"><span class="chapter-number">26</span>&nbsp; <span class="chapter-title">Math and LaTeX elements</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span id="sec-cop-math-latex" class="quarto-section-identifier"><span class="chapter-number">26</span>&nbsp; <span class="chapter-title">Math and LaTeX elements</span></span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<div class="no-first-line-indent-after"></div>
<p>This chapter focuses on formulas, maths and other LaTeX elements.</p>
<section id="math-and-logic-conventions" class="level2" data-number="26.1">
<h2 data-number="26.1" class="anchored" data-anchor-id="math-and-logic-conventions"><span class="header-section-number">26.1</span> Math and logic conventions</h2>
<p>These are decided by your house style.</p>
<p><strong>Dialectica guidelines</strong>.</p>
<ul>
<li>Propositional connectives: <code>\lnot</code> (<span class="math inline">\(\lnot\)</span>) rather than <code>\sim</code> (<code>\~</code>). (those who prefer the latter should note that <code>\sim</code> doesn’t have operator spacing in LaTeX, better redefine <code>\lnot</code> to print ~ with math operator spacing.)</li>
</ul>
<div class="no-first-line-indent-after"></div>
<p>Resources: many websites allow you to search for HTML entites code.</p>
</section>
<section id="formulas" class="level2" data-number="26.2">
<h2 data-number="26.2" class="anchored" data-anchor-id="formulas"><span class="header-section-number">26.2</span> Formulas</h2>
<section id="basics" class="level3" data-number="26.2.1">
<h3 data-number="26.2.1" class="anchored" data-anchor-id="basics"><span class="header-section-number">26.2.1</span> Basics</h3>
<p>If the author’s manuscript includes formulas, make sure they are in MS Word / Google Docs <strong>Equation mode</strong> before converting to markdown. <code>pandoc</code> will then convert them in LaTeX formulas, which will greatly simplify your work.</p>
<p>An “inline” formula, that is a formula within the flow of the text, is delimited by <code>$</code> signs. For instance, this:</p>
<blockquote class="blockquote">
<div class="no-first-line-indent-after"></div>
<p>The principle of non-contradition, <span class="math inline">\(\lnot (\phi \land \lnot \phi)\)</span> is Leibniz’s…</p>
</blockquote>
<div class="no-first-line-indent-after"></div>
<p>is coded:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>The principle of non-contradition, $\lnot (\phi \land \lnot \phi)$ is</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>Leibniz's...</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="no-first-line-indent-after"></div>
<p>A “display” formula, one that occupies more than one line, is delimited by <code>$$</code> signs. For instance, this:</p>
<blockquote class="blockquote">
<div class="no-first-line-indent-after"></div>
<p>Leibniz’s law, <span class="math display">\[\forall x \forall y (x=y \rightarrow \forall X
(Xx \leftrightarrow Xy))\]</span> is …</p>
</blockquote>
<div class="no-first-line-indent-after"></div>
<p>is coded:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>Leibniz's law, $$\forall x \forall y (x=y \rightarrow \forall X </span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>(Xx \leftrightarrow Xy))$$ is ... </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="no-first-line-indent-after"></div>
<p>Display formulas are ‘block’ elements. For more or them, in particular, numbering them, see the <a href="#equations">Equations</a>.</p>
<p>Do not leave a space after the opening <code>$</code> or before the closing one, otherwise markdown thinks they are ordinary dollar signs.</p>
<ul>
<li>GOOD: <code>$\forall x (Fx \rightarrow Gx)$</code></li>
<li>BAD: <code>$ \forall x (Fx \rightarrow Gx) $</code></li>
</ul>
<div class="no-first-line-indent-after"></div>
<p><strong>Can <code>pandoc</code> confuse ordinary dollar signs and formula delimiters</strong>? Normally not. In the following:</p>
<ul>
<li><code>Amounts of $20,000 and $30,000 are...</code></li>
</ul>
<div class="no-first-line-indent-after"></div>
<p>Pandoc will not think that <code>$20,000 and $</code> is a formula, because the last <code>$</code> is preceded by a space. If, however, for some reason you need to typeset something like:</p>
<ul>
<li><code>Amounts of $20,000 and 0.00$ are...</code></li>
</ul>
<div class="no-first-line-indent-after"></div>
<p>where Pandoc will turn into a formula, “escape” the dollar signs:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>Amounts of \$20,000 and 0.00\$ are...</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<blockquote class="blockquote">
<div class="no-first-line-indent-after"></div>
<p>Amounts of $20,000 and 0.00$ are…</p>
</blockquote>
</section>
<section id="good-practices" class="level3" data-number="26.2.2">
<h3 data-number="26.2.2" class="anchored" data-anchor-id="good-practices"><span class="header-section-number">26.2.2</span> Good practices</h3>
<p><strong>Do not break up a formula apart into its individual symbols</strong>. For instance, this:</p>
<blockquote class="blockquote">
<div class="no-first-line-indent-after"></div>
<p>The formulas <span class="math inline">\(\exists x(Fx \rightarrow Gx)\)</span>, <span class="math inline">\(\forall x\neg\text{Gx}\)</span> are quantified formulas.</p>
</blockquote>
<div class="no-first-line-indent-after"></div>
<p>Should be entered in markdown as:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>The formulas $\exists x(Fx \rightarrow Gx)$, $\forall x\neg\text{Gx}$</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>are quantified formulas.</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="no-first-line-indent-after"></div>
<p>Not as:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>The formulas $\exists$ x (Fx $\rightarrow$ Gx), $\forall$ x$\neg$Gx</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>are quantified formulas.</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="no-first-line-indent-after"></div>
<p><strong>Do not enter a list of formulas as a single formula (with exceptions)</strong>. Merging two formulas into one prevents linbreaks between them in the output:</p>
<ul>
<li>GOOD: <code class="sourceCode markdown">$\exists x (Fx \rightarrow Gx)$, $\forall x \lnot Gx$.</code></li>
<li>BAD: <code class="sourceCode markdown">$\exists x (Fx \rightarrow Gx), \forall x \lnot Gx$.</code></li>
</ul>
<div class="no-first-line-indent-after"></div>
<p>Exception: if you have lists of small items as in <span class="math inline">\(p_1, p_2, \ldots , p_n\)</span>, no need to split those into many equations:</p>
<ul>
<li>GOOD: <code class="sourceCode markdown">$p_1, p_2, \ldots, p_n$</code><a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a></li>
<li>ALSO GOOD: <code class="sourceCode markdown">$p_1$, $p_2$, ..., $p_n$</code>.</li>
</ul>
<div class="no-first-line-indent-after"></div>
<p>Another exception, list of premises in a formula stating that they entail a conclusion:</p>
<blockquote class="blockquote">
<div class="no-first-line-indent-after"></div>
<p><span class="math inline">\(A, B, \vDash C\)</span></p>
</blockquote>
<ul>
<li>GOOD: <code>$A, B, \vDash C$</code></li>
<li>BAD: <code>$A$, $B$, $vDash C$</code></li>
</ul>
<div class="no-first-line-indent-after"></div>
<p>The latter might look right but it is not accurate in e.g.&nbsp;a machine-readable JATS XML export, as the whole line here should be treated as a single claim (that <span class="math inline">\(A\)</span>,<span class="math inline">\(B\)</span> entail <span class="math inline">\(C\)</span>), not three claims (<span class="math inline">\(A\)</span>, <span class="math inline">\(B\)</span> and <span class="math inline">\(\vDash C\)</span>).</p>
<p><strong>Elements of formulas repeated in the text are entered as formulas too</strong>. For instance this:</p>
<blockquote class="blockquote">
<div class="no-first-line-indent-after"></div>
<p>In the formula <span class="math inline">\(\exists xFx\)</span> the variable <span class="math inline">\(x\)</span> is bound.</p>
</blockquote>
<div class="no-first-line-indent-after"></div>
<p>is coded thus:</p>
<ul>
<li>GOOD: <code class="sourceCode markdown">In the formula $\exists xFx$ the variable $x$ is...</code></li>
<li>BAD: <code class="sourceCode markdown">In the formula $\exists xFx$ the variable x is...</code></li>
<li>BAD: <code class="sourceCode markdown">In the formula $\exists xFx$ the variable *x* is...</code></li>
</ul>
<div class="no-first-line-indent-after"></div>
<p>Note that <code>*x*</code> is not in formula mode and not a suitable replacement for <code>$x$</code> here. While both would be displayed in italics, their meaning is different (on indicates emphasis, the other indicates an element of a formula) and they are subtle differences in typesetting (different font and spacing for formulas). Similarly:</p>
<blockquote class="blockquote">
<div class="no-first-line-indent-after"></div>
<p>If a subject <span class="math inline">\(S\)</span> has property <span class="math inline">\(P\)</span></p>
</blockquote>
<ul>
<li>GOOD: <code class="sourceCode markdown">If a subject $S$ has property $P$...</code></li>
<li>BAD: <code class="sourceCode markdown">If a subject S has property P...</code></li>
<li>BAD: <code class="sourceCode markdown">If a subject *S* has property *P*...</code></li>
<li>BAD: <code class="sourceCode markdown">If a subject **S** has property **P**...</code></li>
</ul>
<div class="no-first-line-indent-after"></div>
<p><strong>Ordinary text within formulas</strong>. Some authors put ordinary text within formulas:</p>
<p><span class="math inline">\(\exists\Phi(\textrm{All }\Phi\textrm{ one})\)</span></p>
<p>You should put that text within the formula LaTeX code, using <code>\textrm{...}</code> for normal text, and <code>\textit{...}</code> for italic, <code>\textbf{...}</code> for bold, <code>\texttt{...}</code> for code.</p>
<ul>
<li>BAD: <code class="sourceCode markdown">($\exists\Phi$)(All $\Phi$ One)</code></li>
<li>GOOD: <code class="sourceCode latex"><span class="ss">$(</span><span class="sc">\exists\Phi</span><span class="ss">)(</span><span class="sc">\textrm</span>{All}<span class="ss"> </span><span class="sc">\Phi</span><span class="ss"> </span><span class="sc">\textrm</span>{One}<span class="ss">)$</span></code></li>
</ul>
<div class="no-first-line-indent-after"></div>
<p>This makes more sense (the first is one formula, the second is two mixed with the text) and the spacing will be better.</p>
</section>
</section>
<section id="schematic-letters-in-the-text" class="level2" data-number="26.3">
<h2 data-number="26.3" class="anchored" data-anchor-id="schematic-letters-in-the-text"><span class="header-section-number">26.3</span> Schematic letters in the text</h2>
<p>Schematic letters in the main text should normally be typeset as formulas:</p>
<table class="table">
<thead>
<tr class="header">
<th style="text-align: left;">I want</th>
<th style="text-align: center;">I type</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(S\)</span> knows that <span class="math inline">\(p\)</span></td>
<td style="text-align: center;"><code class="sourceCode markdown">$S$ knows that $p$</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(n\)</span>-ary predicate</td>
<td style="text-align: center;"><code class="sourceCode markdown">$n$-ary predicate</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(F\)</span>-ness</td>
<td style="text-align: center;"><code class="sourceCode markdown">$F$-ness</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(\mathrm{F}\)</span>-ness</td>
<td style="text-align: center;"><code class="sourceCode markdown">$\mathrm{F}$-ness</code></td>
</tr>
</tbody>
</table>
<p>This does not apply to <em>acronyms</em>, e.g.&nbsp;“PP” for the Precautionary Principle.</p>
<p><em>Remark</em>. If there are few, e.g <span class="math inline">\(S\)</span>, <span class="math inline">\(p\)</span>, and they don’t appear in formulas proper such as <span class="math inline">\(K_Sp\)</span>, then it can be <em>tolerated</em> to enter them as is (<code>S</code>) or with emphasis to obtain italics (<code>*p*</code>). We advise against this because <code>*...*</code> indicates emphasis and not a symbol or italics. For instance, if the markdown source is later fed into text-to-speech software the read out will wrongly stress <code>*p*</code> wherever it’s used.</p>
<p>Some mathematic texts use upright uppercase letters and lowercase italicized letters.<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a> To get upright letters with math mode use the <code>\mathrm{...}</code> LaTeX command. All letters within <code>{...}</code> will be typset as upright serif letters (“roman” is another name for serif):</p>
<table class="table">
<thead>
<tr class="header">
<th style="text-align: left;">I want</th>
<th style="text-align: center;">I type</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(\mathrm{MA}p\)</span></td>
<td style="text-align: center;"><code class="sourceCode markdown">$\mathrm{MA}p$</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(\mathrm{M}Ap\)</span></td>
<td style="text-align: center;"><code class="sourceCode markdown">\mathrm{M}Ap</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(\mathrm{A+B}\)</span></td>
<td style="text-align: center;"><code class="sourceCode markdown">\mathrm{A+B}</code></td>
</tr>
</tbody>
</table>
<p>If the predicates are referred to in the text around, I would make sure there are in dollar signs too:</p>
<blockquote class="blockquote">
<div class="no-first-line-indent-after"></div>
<p>Predicate <span class="math inline">\(F\)</span> is unary, predicate <span class="math inline">\(G\)</span> binary.</p>
</blockquote>
<ul>
<li>GOOD <code class="sourceCode markdown">Predicate $F$ is unary, predicate $G$ binary.</code></li>
<li>NOT ADVISED <code class="sourceCode markdown">Predicate F is unary, predicate G binary.</code></li>
<li>NOT ADVISED <code class="sourceCode markdown">Predicate *F* is unary, predicate *G* binary.</code></li>
</ul>
</section>
<section id="sec-cop-math-latex-split-fractions" class="level2" data-number="26.4">
<h2 data-number="26.4" class="anchored" data-anchor-id="sec-cop-math-latex-split-fractions"><span class="header-section-number">26.4</span> Split fractions</h2>
<p>Fractions like 2/3, 1/2, can (and are often better) be printed out as split fractions, with the first number slightly up and left and the lower slightly down and right.</p>
<p>Solution 1. Fraction ½. This can be printed in both HTML and LaTeX output with the HTML entity code <code>&amp;frac12;</code>. However, the HTML entites cannot be used in LaTeX so you need to break down any formula including it, which is potentiall bad for output (allows an unwanted linebreak, for instance).</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>The glass is <span class="dv">&amp;frac12;</span> empty.</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>$x =$<span class="dv">&amp;frac12;</span>$+ 1$. </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<blockquote class="blockquote">
<div class="no-first-line-indent-after"></div>
<p>The glass is ½ empty.</p>
<p><span class="math inline">\(x =\)</span>½<span class="math inline">\(+ 1\)</span>.</p>
</blockquote>
<div class="no-first-line-indent-after"></div>
<p>Solution 2. LaTeX package + imagify. Use the <code>xfrac</code> LaTeX package by adding the following to the <code>header-includes</code> metadata field:<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a></p>
<div class="sourceCode" id="cb7"><pre class="sourceCode yaml code-with-copy"><code class="sourceCode yaml"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">header-includes</span><span class="kw">: </span><span class="ch">|</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  ~~~ {=latex}</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  \usepackage{xfrac}</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  ~~~</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="no-first-line-indent-after"></div>
<p>and enter the fractions in formulas like so:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode latex code-with-copy"><code class="sourceCode latex"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="ss">$</span><span class="sc">\sfrac</span><span class="ss">{2}{3}$</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="no-first-line-indent-after"></div>
<p>Downside: these are not handled by MathJAX in HTML output, so they have to be converted to images by your template <a href="25-cop-imagify.html" class="quarto-xref"><span>Chapter 27</span></a>.</p>
<p>Future solution? (fails with MathJAX 3). Use <code>xfrac</code> as above but add a custom extension to MathJaX instead of imagifying. See <a href="https://github.com/mathjax/MathJax-docs/wiki/Beveled-fraction-like-sfrac,-nicefrac-bfrac">this page</a> for a MathJaX 2 example. This doesn’t seem to work in MathJAX 3 (perhaps because we can’t have the “unpacked” version from the CDN). With a working extension the idea would be to add the conde:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode yaml code-with-copy"><code class="sourceCode yaml"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">header-includes</span><span class="kw">:</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="at">  ~~~ {=latex}</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="at">  \usepackage{xfrac}</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="at">  ~~~</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="at">  ~~~ {=html}</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a><span class="at">  &lt;script type="text/x-mathjax-config"&gt;</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a><span class="at">  MathJax.Hub.Register.StartupHook("TeX Jax Ready",function () {</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a><span class="at">   ... extension code</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a><span class="at">  });</span></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a><span class="at">  &lt;/script&gt;  </span></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a><span class="at">  ~~~</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="no-first-line-indent-after"></div>
<p>Warning though: if using OJS’s inline HTML the script should be in the body rather than header.</p>
</section>
<section id="equations" class="level2" data-number="26.5">
<h2 data-number="26.5" class="anchored" data-anchor-id="equations"><span class="header-section-number">26.5</span> Equations</h2>
<p>For the basics of formulas, see <a href="#formulas">Formulas</a>.</p>
<section id="numbered-equations" class="level3" data-number="26.5.1">
<h3 data-number="26.5.1" class="anchored" data-anchor-id="numbered-equations"><span class="header-section-number">26.5.1</span> Numbered equations</h3>
<p><em>Requires: pandoc-crossref filter</em>.</p>
<p>Display formulas can be numbered by assigning them an identifier:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>$$E = mc^2$$ {#eq:my-label}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="no-first-line-indent-after"></div>
<p>Here the identifier is <code>eq:my-label</code>. It must start with <code>eq:</code>. It can then be used for crossreferences:</p>
<pre><code>As shown by @my-label, ...</code></pre>
<div class="no-first-line-indent-after"></div>
<p>The syntax for crossreferences is like that of citations, but it can also automatically add a prefix like ‘Eq.’ or ‘Eqs.’. See the <a href="https://lierdakil.github.io/pandoc-crossref/#equation-labels">pandoc-crossref</a> documentation.</p>
</section>
</section>
<section id="theorems-and-proofs" class="level2" data-number="26.6">
<h2 data-number="26.6" class="anchored" data-anchor-id="theorems-and-proofs"><span class="header-section-number">26.6</span> Theorems and proofs</h2>
<p><em>Requires</em>: the <code>statement.lua</code> filter.</p>
<p>We format them as “fenced Div blocks”, i.e.&nbsp;blocks separated by three or more colons (the closing fence must have as many as the opening one). The fenced Div must have a class from one of the default theorem types like <code>theorem</code> (or <code>thm</code>), <code>proposition</code> (or <code>prop</code>), <code>lemma</code> (or <code>lem</code>), <code>definition</code> (or <code>defn</code>), <code>remark</code> (or <code>rmk</code>), etc.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>::: theorem</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>Content of the theorem</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>Second paragraph of the same theorem.</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>:::</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="no-first-line-indent-after"></div>
<p>An theorem can have an id for cross-reference. If you add an ID don’t forget the curly brackets and point before <code>theorem</code>:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>::: {.theorem #theorem}</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>Content of the theorem</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>:::</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="no-first-line-indent-after"></div>
<p>Theorems can also have a source, or some info. The source is a citation right at the beginning of the theorem:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>::: theorem</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>@jones1990 Content of the theorem</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>:::</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="no-first-line-indent-after"></div>
<p>Info is some text between brackets at the beginning of the theorem. The text can itself contain brackets, provided they’re properly balanced:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>::: theorem</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>(negative (or positive) values) Content of the theorem</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>:::</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="no-first-line-indent-after"></div>
<p>Proofs:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>::: proof</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>Obvious from theorem @mytheorem.</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>:::</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<section id="no-theorems-in-footnotes" class="level3" data-number="26.6.1">
<h3 data-number="26.6.1" class="anchored" data-anchor-id="no-theorems-in-footnotes"><span class="header-section-number">26.6.1</span> No theorems in footnotes</h3>
<p>Statements don’t works in footnote for LaTeX/PDFoutput. That’s a limitation imposed by the LaTeX <code>amsthm</code> package we rely on. It’s a sensible limitation: countless maths books are published with this package and not a single one of them needs theorems in footnotes.</p>
<p>Indented blocks (plain statements) may appear in footnote. If so use a custom labelled list with empty labels.</p>
</section>
<section id="more-theorem-options" class="level3" data-number="26.6.2">
<h3 data-number="26.6.2" class="anchored" data-anchor-id="more-theorem-options"><span class="header-section-number">26.6.2</span> More theorem options</h3>
<p>The Statement filter has many more options. Check its manual (in progress as of April 2023)</p>
<p><a href="https://dialoa.github.io/statement">Statement filter manual</a></p>
</section>
</section>
<section id="natural-deduction-proofs-with-bussproofs" class="level2" data-number="26.7">
<h2 data-number="26.7" class="anchored" data-anchor-id="natural-deduction-proofs-with-bussproofs"><span class="header-section-number">26.7</span> Natural deduction proofs with <code>bussproofs</code></h2>
<p>If an article uses the LaTeX bussproofs package, the following guidelines will allow them to be displayed directly in HTML <a href="#https://pandoc.org/MANUAL.html#math-rendering-in-html">when using the <code>Mathjax</code> option</a>.<a href="#fn4" class="footnote-ref" id="fnref4" role="doc-noteref"><sup>4</sup></a></p>
<p>Bussproofs can be either inline, ending with <code>\DisplayProof</code>:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode latex code-with-copy"><code class="sourceCode latex"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">\AxiomC</span>{<span class="ss">$P </span><span class="sc">\land</span><span class="ss"> Q$</span>)}</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="fu">\UnaryInfC</span>{<span class="ss">$Q$</span>}</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="fu">\DisplayProof</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="no-first-line-indent-after"></div>
<p>Or display (block element), within a <code>prooftree</code> environment:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode latex code-with-copy"><code class="sourceCode latex"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="kw">\begin</span>{<span class="ex">prooftree</span>}</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="fu">\AxiomC</span>{<span class="ss">$P </span><span class="sc">\land</span><span class="ss"> Q$</span>)}</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="fu">\UnaryInfC</span>{<span class="ss">$Q$</span>}</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a><span class="kw">\end</span>{<span class="ex">prooftree</span>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="no-first-line-indent-after"></div>
<p>MathJax can only render the latter, so we always use display proofs. They’re a bit more spaced than inline ones, but that looks better. If, for some reasons, inline bussproofs are required, we would imagify them.</p>
<section id="inline-bussproofs" class="level3" data-number="26.7.1">
<h3 data-number="26.7.1" class="anchored" data-anchor-id="inline-bussproofs"><span class="header-section-number">26.7.1</span> Inline bussproofs</h3>
<p>Mathjax does not display inline bussproofs. So prefer block ones wherever possible. If you must use an inline proof, you have two options.</p>
<ol type="1">
<li>Use the <a href="#imagify">Imagify</a> to convert the proof to image in HTML output.</li>
<li>Replace any <code>$...$</code> math delimitors in the proof with <code>\(...\)</code>, and wrap the proof within <code>$...$</code>. If you do this, the HTML output will display a warning message where the proof would have been. If you don’t, you will get nothing at all or a confusing mix of LaTeX code and error message such as <code>...A\(}\UnaryInfC{\)AExtra close brace or missing open..</code>.</li>
</ol>
<div class="no-first-line-indent-after"></div>
<p><strong>(Dialectica-specific)</strong>. We strongly prefer block proofs. We imagify any proof that doesn’t display correctly.</p>
<p>Illustration of option 2. Suppose you have the Inline proof:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode latex code-with-copy"><code class="sourceCode latex"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">\AxiomC</span>{<span class="ss">$P </span><span class="sc">\land</span><span class="ss"> Q$</span>)}</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="fu">\UnaryInfC</span>{<span class="ss">$Q$</span>}</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="fu">\DisplayProof</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="no-first-line-indent-after"></div>
<p>You should rewrite it as:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode latex code-with-copy"><code class="sourceCode latex"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="ss">$</span><span class="sc">\AxiomC</span><span class="ss">{</span><span class="sc">\(</span><span class="ss">P </span><span class="sc">\land</span><span class="ss"> Q</span><span class="sc">\)</span><span class="ss">}</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="sc">\UnaryInfC</span><span class="ss">{</span><span class="sc">\(</span><span class="ss">Q</span><span class="sc">\)</span><span class="ss">}</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="sc">\DisplayProof</span><span class="ss">$</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="block-bussproofs" class="level3" data-number="26.7.2">
<h3 data-number="26.7.2" class="anchored" data-anchor-id="block-bussproofs"><span class="header-section-number">26.7.2</span> Block bussproofs</h3>
<p><strong>Requires: Pandoc 2.19.3+</strong>. Enter the prooftree environment directly in markdown, without enclosing <code>$$...$$</code>:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode latex code-with-copy"><code class="sourceCode latex"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="kw">\begin</span>{<span class="ex">prooftree</span>}</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="fu">\AxiomC</span>{<span class="ss">\(P </span><span class="sc">\land</span><span class="ss"> Q\)</span>}</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a><span class="fu">\UnaryInfC</span>{<span class="ss">\(Q\)</span>}</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a><span class="kw">\end</span>{<span class="ex">prooftree</span>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="no-first-line-indent-after"></div>
<p>It should display correctly in HTML output.</p>
<p>Exceptions: some commands like <code>\doubleline</code> aren’t handled by MathJaX. They are displayed in red in the HTML output. You can either leave it as is or use <a href="#imagify">Imagify</a> to convert it to an image:</p>
<pre><code>::: {.imagify}

\begin{prooftree}
...
\end{prooftree}

:::</code></pre>
<div class="no-first-line-indent-after"></div>
<p>See the <a href="#imagify">Imagify</a> section to fine-tune the result.</p>
<p>*(Dialectica-specific)**. We strongly prefer block proofs. We imagify any proof that doesn’t display correctly.</p>
<p><em>Requires: the not-in-format filter</em>.</p>
<p>(<em>Note</em>: <em>the problem below will be fixed with Pandoc 2.19.3. With this update we should be able to enter the prooftree environments without the surrounding <code>$$..$$</code>. (to be tested).</em>)</p>
<p>With prooftree environments we face the following problem:</p>
<ul>
<li><p>If we include the LaTeX directly in the source, it’s not printed at all in HTML output:</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode latex code-with-copy"><code class="sourceCode latex"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="kw">\begin</span>{<span class="ex">prooftree</span>}</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="fu">\AxiomC</span>{<span class="ss">\(P </span><span class="sc">\land</span><span class="ss"> Q\)</span>}</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="fu">\UnaryInfC</span>{<span class="ss">\(Q\)</span>}</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a><span class="kw">\end</span>{<span class="ex">prooftree</span>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>If we enclose it within `<code>$$...$$</code>, it is passed to the HTML output and then correctly displayed by MathJax. But the PDF generation crashes.</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode latex code-with-copy"><code class="sourceCode latex"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="ss">$$</span><span class="kw">\begin</span>{<span class="ex">prooftree</span>}</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="sc">\AxiomC</span><span class="ss">{</span><span class="er">$</span><span class="ss">P </span><span class="sc">\land</span><span class="ss"> Q</span><span class="er">$</span><span class="ss">}</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a><span class="sc">\UnaryInfC</span><span class="ss">{</span><span class="er">$</span><span class="ss">Q</span><span class="er">$</span><span class="ss">}</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a><span class="kw">\end</span>{<span class="ex">prooftree</span>}<span class="ss">$$</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ul>
<div class="no-first-line-indent-after"></div>
<p><strong>Solution</strong>. We provide <em>two</em> versions of the prootree environment, one for formats other than LaTeX, one for LaTeX. This is done as follows:</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>::: {.not-in-format .latex}</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a> $$\begin{prooftree}</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>  \AxiomC{$P \land Q$}</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>  \UnaryInfC{$Q$}</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>\end{prooftree}$$</span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>::: {.only-in-format .latex}</span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a>\begin{prooftree}</span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a>  \AxiomC{$P \land Q$}</span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a>  \UnaryInfC{$Q$}</span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a>\end{prooftree}</span>
<span id="cb25-13"><a href="#cb25-13" aria-hidden="true" tabindex="-1"></a>:::</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="no-first-line-indent-after"></div>
<p>Within prooftree environements there’s no need to replace the <code>$...$</code> with <code>\(...\)</code>.</p>
<p>The <code>not-in-format</code> and <code>only-in-format</code> Divs can contain any markdown content, including a mix of LaTeX and markdown if needed. For isntance, your proofs may be in numbered example lists:</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>::: {.not-in-format .latex}</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>(@) $$\begin{prooftree}</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>      \AxiomC{$P \land Q$}</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>      \UnaryInfC{$Q$}</span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>    \end{prooftree}$$</span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a>::: {.only-in-format .latex}</span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a>(@) \begin{prooftree}</span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a>      \AxiomC{$P \land Q$}</span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a>      \UnaryInfC{$Q$}</span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a>    \end{prooftree}</span>
<span id="cb26-13"><a href="#cb26-13" aria-hidden="true" tabindex="-1"></a>:::</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="no-first-line-indent-after"></div>
<p>And if you have several proofs in a row, you don’t need to have two Divs for each, you can have two Divs overall:</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>::: {.not-in-format .latex}</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="ss">1.   </span>$$\begin{prooftree}</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>      \AxiomC{$P \land Q$}</span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>      \UnaryInfC{$Q$}</span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>    \end{prooftree}$$</span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a><span class="ss">2.   </span>$$\begin{prooftree}</span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>      \AxiomC{$P$}</span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>      \UnaryInfC{$P\lor Q$}</span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a>    \end{prooftree}$$</span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a>::: {.only-in-format .latex}</span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a><span class="ss">1.   </span>\begin{prooftree}</span>
<span id="cb27-14"><a href="#cb27-14" aria-hidden="true" tabindex="-1"></a>      \AxiomC{$P \land Q$}</span>
<span id="cb27-15"><a href="#cb27-15" aria-hidden="true" tabindex="-1"></a>      \UnaryInfC{$Q$}</span>
<span id="cb27-16"><a href="#cb27-16" aria-hidden="true" tabindex="-1"></a>    \end{prooftree}</span>
<span id="cb27-17"><a href="#cb27-17" aria-hidden="true" tabindex="-1"></a><span class="ss">2.   </span>\begin{prooftree}</span>
<span id="cb27-18"><a href="#cb27-18" aria-hidden="true" tabindex="-1"></a>      \AxiomC{$P$}</span>
<span id="cb27-19"><a href="#cb27-19" aria-hidden="true" tabindex="-1"></a>      \UnaryInfC{$P\lor Q$}</span>
<span id="cb27-20"><a href="#cb27-20" aria-hidden="true" tabindex="-1"></a>    \end{prooftree}</span>
<span id="cb27-21"><a href="#cb27-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-22"><a href="#cb27-22" aria-hidden="true" tabindex="-1"></a>:::</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="latex-new-and-redefined-commands" class="level2" data-number="26.8">
<h2 data-number="26.8" class="anchored" data-anchor-id="latex-new-and-redefined-commands"><span class="header-section-number">26.8</span> Latex new and redefined commands</h2>
<p>A document can include <code>\newcommand</code> (<code>\renewcommand</code>, <code>\newenvironment</code>, <code>\renewenvironment</code>, <code>\def</code>,<code>\let</code>) commands to define abbreviations. For instance some authors introduce a command to produce tuples:</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode latex code-with-copy"><code class="sourceCode latex"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">\newcommand</span>{<span class="ex">\tuple</span>}{<span class="fu">\langle</span> #1 <span class="fu">\rangle</span>}</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>...</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>The pair <span class="fu">\tuple</span>{a,b} is...</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="no-first-line-indent-after"></div>
<p>The command <code>\tuple{a,b}</code> then abbreviates <code>\langle a,b \rangle</code> which produces <span class="math inline">\(\langle a,b \rangle\)</span>.</p>
<p>We can use these commands, but <em>not put them in <code>{=latex}</code> wrappers</em>.</p>
<p>BAD:</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode yaml code-with-copy"><code class="sourceCode yaml"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">header-includes</span><span class="kw">: </span><span class="ch">|</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>  ```{=latex}</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>  \usepackage{fancypkg}</span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>  \newcommand{\tuple}{\langle #1 \rangle}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>
GOOD:

```yaml
header-includes: |
  ```{=latex}
  \usepackage{fancypkg}</code></pre>
<div class="no-first-line-indent-after"></div>
<p></p>
<pre><code>
* Put in `{=latex}` things that only work in LaTeX. Special packages that can only be imagified in HTML output go there. For example `stmaryrd` is a package often used to get double brackets; it doesn't work in MathJaX and we need to imagify those elements instead. So it goes in `{=latex}`. 
* Put outside of `{latex}` things that Pandoc needs to know about even when generating HTML output. Here the new command needs to be translated whichever output we're generating, so Pandoc needs to know about it. We put it outside of `{=latex}`.

## MathJAX "Math Input Error"

Error: you're expecting a LaTeX element to be rendered by MathJAX in
HTML output, but instead MathJAX displays a red-on-yellow "Math Input
Error" message.

To identify the source of the problem, open the HTML in a text editor.
Find the bit of HTML corresponding to your latex element. It'll be in a
`math inline` or `math display` span element:

``` html
&lt;span class="math display"&gt;\[\begin{prooftree}
\AxiomC{A}\RightLabel{Id}
\UnaryInfC{$A$}\RightLabel{example, 
Refl}
\UnaryInfC{$A$}
\end{prooftree}\]&lt;/span&gt;</code></pre>
<div class="no-first-line-indent-after"></div>
<p>Create an empty math element next to it, e.g.:</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode html code-with-copy"><code class="sourceCode html"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">p</span><span class="dt">&gt;</span>TEST CODE:<span class="dt">&lt;/</span><span class="kw">p</span><span class="dt">&gt;</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">span</span><span class="ot"> class</span><span class="op">=</span><span class="st">"math display"</span><span class="dt">&gt;</span>\[</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>\]<span class="dt">&lt;/</span><span class="kw">span</span><span class="dt">&gt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="no-first-line-indent-after"></div>
<p>Open the file in a browser. Add the contents of the original element line by line, refreshing the browser each time, until you find the bit of code that produces the error. In the example above, for instance, the error was produced by the linebreak:</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode latex code-with-copy"><code class="sourceCode latex"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">\UnaryInfC</span>{<span class="ss">$A$</span>}<span class="fu">\RightLabel</span>{example, </span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>Refl}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="no-first-line-indent-after"></div>
<p>and was fixed when we removed it:</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode latex code-with-copy"><code class="sourceCode latex"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="fu">\UnaryInfC</span>{<span class="ss">$A$</span>}<span class="fu">\RightLabel</span>{example, Refl}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>


</section>
<section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes">
<hr>
<ol>
<li id="fn1"><p><code>\ldots</code> is LaTeX code for suspension dots.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>Because latin lowercase letters come from handwritten Carolingian letters but latin uppercase letters come from stone-engraved Roman letters, some think that uppercase latin letters shouldn’t be used unless strictly necessary. The same can be said for uppercase/lowercase greek letters.<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3"><p>Recall that <code>~~~</code> marks code blocks like <code>```</code>.<a href="#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn4"><p>MathJax is a HTML-embedded script that allows your browser to display most LaTeX-encoded math. When Pandoc converts to HTML in MathJax code, it includes LaTeX code within <code>$...$</code> and <code>$$...$$</code> directly in the HTML, and MathJax typesets it. However, MathJax cannot process all LaTeX. It covers most of the standard maths and some special math-related packages like <code>bussproofs</code> for natural deduction. But custom commands, special packages and other advanced LaTeX will result in red text error messages.<a href="#fnref4" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../../chapters/copyediting/24-cop-bibliography.html" class="pagination-link" aria-label="Bibliography">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">25</span>&nbsp; <span class="chapter-title">Bibliography</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../../chapters/copyediting/25-cop-imagify.html" class="pagination-link" aria-label="Imagify">
        <span class="nav-page-text"><span class="chapter-number">27</span>&nbsp; <span class="chapter-title">Imagify</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>