<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>30&nbsp; Dialectica new house style outputs – Open Manual of Markdown Style</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../chapters/dialectica/65-dialectica-troubleshooting-outputs.html" rel="next">
<link href="../../chapters/copyediting/29-cop-markdown-cheatsheet.html" rel="prev">
<link href="../../media/dialoa.ico" rel="icon">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../../chapters/dialectica/61-dialectica-new-house-outputs.html">Dialectica</a></li><li class="breadcrumb-item"><a href="../../chapters/dialectica/61-dialectica-new-house-outputs.html"><span class="chapter-number">30</span>&nbsp; <span class="chapter-title">Dialectica new house style outputs</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../../">Open Manual of Markdown Style</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Authoring</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/authoring/00-aut-intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/authoring/10-aut-instructions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Instructions for authors</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/authoring/11-aut-grammar-usage.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Grammar and usage</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">Copyediting</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/copyediting/12-cop-preliminaries.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Preliminaries</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/copyediting/13-cop-preparing-a-manuscript.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Preparing a manuscript</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/copyediting/15-cop-markdown-intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">About Markdown copyediting</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/copyediting/155-cop-checklist.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Copyeditor workflow</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/copyediting/16-cop-metadata.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Metadata</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/copyediting/161-cop-title-and-subtitle.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Title and subtitle</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/copyediting/162-cop-author-information.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Author metadata</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/copyediting/163-cop-abstract-keywords-acknowledgments.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Abstract, keywords, acknowledgments</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/copyediting/17-cop-inline-elements.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Inline elements</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/copyediting/171-cop-inline-special-chars.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Special characters</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/copyediting/19-cop-block-elements.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Simple block elements</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/copyediting/191-cop-block-quotations.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Quotations</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/copyediting/192-cop-block-lists.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Lists</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/copyediting/193-cop-block-tables.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Tables</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/copyediting/194-cop-block-figures.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Figures (images, diagrams, graphs)</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/copyediting/195-cop-block-statements.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Statements and indented blocks</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/copyediting/196-cop-block-columns.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">Multiple columns</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/copyediting/199-cop-block-other.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title">Troublesome blocks</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/copyediting/20-cop-multiple-languages.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">Multiple languages</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/copyediting/21-cop-block-crossreferencing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">Cross-referencing</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/copyediting/23-cop-citations.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">24</span>&nbsp; <span class="chapter-title">Citations</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/copyediting/24-cop-bibliography.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">25</span>&nbsp; <span class="chapter-title">Bibliography</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/copyediting/241-cop-math-latex.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">26</span>&nbsp; <span class="chapter-title">Math and LaTeX elements</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/copyediting/25-cop-imagify.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">27</span>&nbsp; <span class="chapter-title">Imagify</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/copyediting/27-cop-troubleshooting.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">28</span>&nbsp; <span class="chapter-title">Trouble and troubleshooting</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/copyediting/29-cop-markdown-cheatsheet.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">29</span>&nbsp; <span class="chapter-title">Markdown Cheatsheet</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">Dialectica</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/dialectica/61-dialectica-new-house-outputs.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">30</span>&nbsp; <span class="chapter-title">Dialectica new house style outputs</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/dialectica/65-dialectica-troubleshooting-outputs.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">31</span>&nbsp; <span class="chapter-title">Troubleshooting outputs</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/dialectica/70-dialectica-titles.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">32</span>&nbsp; <span class="chapter-title">Title and subtitle</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/dialectica/71-dialectica-authors.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">33</span>&nbsp; <span class="chapter-title">Author information</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/dialectica/72-dialectica-abstract.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">34</span>&nbsp; <span class="chapter-title">Abstracts</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/dialectica/74-dialectica-reviews.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">35</span>&nbsp; <span class="chapter-title">Review articles</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/dialectica/75-dialectica-article-structure.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">36</span>&nbsp; <span class="chapter-title">Article structure</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/dialectica/80-dialectica-bibliography.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">37</span>&nbsp; <span class="chapter-title">Bibliography</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/dialectica/85-dialectica-missing-unicode-characters.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">38</span>&nbsp; <span class="chapter-title">Missing Unicode characters</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true">
 <span class="menu-text">Design</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/design/52-pub-the-structure-of-volumes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">39</span>&nbsp; <span class="chapter-title">The structure of a book and a journal</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/design/55-pub-technical-howtos.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">40</span>&nbsp; <span class="chapter-title">Technical How-Tos</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true">
 <span class="menu-text">Publishing</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/publishing/42-ojs-advice.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">(PART) Open Journal Systems</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/publishing/51-pub-why-markdown.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">(PART) Publishing</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true">
 <span class="menu-text">Appendices</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/appendices/terminal-help.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title">Terminal help</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/appendices/resources.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">B</span>&nbsp; <span class="chapter-title">Further resources</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/appendices/glossary.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">C</span>&nbsp; <span class="chapter-title">Glossary</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../chapters/appendices/references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">D</span>&nbsp; <span class="chapter-title">References</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#setting-up-your-system" id="toc-setting-up-your-system" class="nav-link active" data-scroll-target="#setting-up-your-system"><span class="header-section-number">30.1</span> Setting up your system</a>
  <ul class="collapse">
  <li><a href="#installing-git-docker-vscode" id="toc-installing-git-docker-vscode" class="nav-link" data-scroll-target="#installing-git-docker-vscode"><span class="header-section-number">30.1.1</span> Installing git, docker, VSCode</a></li>
  <li><a href="#setup-pulling-the-docker-image-and-starting-a-container" id="toc-setup-pulling-the-docker-image-and-starting-a-container" class="nav-link" data-scroll-target="#setup-pulling-the-docker-image-and-starting-a-container"><span class="header-section-number">30.1.2</span> Setup: pulling the docker image and starting a container</a></li>
  <li><a href="#starting-and-stopping-the-compilation-environment-container" id="toc-starting-and-stopping-the-compilation-environment-container" class="nav-link" data-scroll-target="#starting-and-stopping-the-compilation-environment-container"><span class="header-section-number">30.1.3</span> Starting and stopping the compilation environment container</a></li>
  <li><a href="#setup-vscode" id="toc-setup-vscode" class="nav-link" data-scroll-target="#setup-vscode"><span class="header-section-number">30.1.4</span> Setup: VSCode</a></li>
  <li><a href="#optional-extra-setup-connect-vscode-to-github" id="toc-optional-extra-setup-connect-vscode-to-github" class="nav-link" data-scroll-target="#optional-extra-setup-connect-vscode-to-github"><span class="header-section-number">30.1.5</span> Optional extra setup: connect VSCode to GitHub</a></li>
  <li><a href="#checking-that-your-setup-is-right" id="toc-checking-that-your-setup-is-right" class="nav-link" data-scroll-target="#checking-that-your-setup-is-right"><span class="header-section-number">30.1.6</span> Checking that your setup is right</a></li>
  <li><a href="#sec-working-inside-a-container" id="toc-sec-working-inside-a-container" class="nav-link" data-scroll-target="#sec-working-inside-a-container"><span class="header-section-number">30.1.7</span> Working ‘inside’ a container</a></li>
  <li><a href="#a-warning" id="toc-a-warning" class="nav-link" data-scroll-target="#a-warning"><span class="header-section-number">30.1.8</span> A warning</a></li>
  <li><a href="#advanced-using-the-container-directly-from-a-terminal" id="toc-advanced-using-the-container-directly-from-a-terminal" class="nav-link" data-scroll-target="#advanced-using-the-container-directly-from-a-terminal"><span class="header-section-number">30.1.9</span> Advanced: using the container directly from a terminal</a></li>
  <li><a href="#troubleshooting-installation" id="toc-troubleshooting-installation" class="nav-link" data-scroll-target="#troubleshooting-installation"><span class="header-section-number">30.1.10</span> Troubleshooting Installation</a></li>
  </ul></li>
  <li><a href="#generating-outputs" id="toc-generating-outputs" class="nav-link" data-scroll-target="#generating-outputs"><span class="header-section-number">31</span> Generating outputs</a>
  <ul class="collapse">
  <li><a href="#prepare-an-article-or-issue-folder" id="toc-prepare-an-article-or-issue-folder" class="nav-link" data-scroll-target="#prepare-an-article-or-issue-folder"><span class="header-section-number">31.1</span> Prepare an article or issue folder</a>
  <ul class="collapse">
  <li><a href="#create-a-master-file" id="toc-create-a-master-file" class="nav-link" data-scroll-target="#create-a-master-file"><span class="header-section-number">31.1.1</span> Create a master file</a></li>
  </ul></li>
  <li><a href="#generate-outputs" id="toc-generate-outputs" class="nav-link" data-scroll-target="#generate-outputs"><span class="header-section-number">31.2</span> Generate outputs</a>
  <ul class="collapse">
  <li><a href="#run-a-command-in-the-terminal" id="toc-run-a-command-in-the-terminal" class="nav-link" data-scroll-target="#run-a-command-in-the-terminal"><span class="header-section-number">31.2.1</span> Run a command in the terminal</a></li>
  <li><a href="#sec-house-outputs-rendering-commands" id="toc-sec-house-outputs-rendering-commands" class="nav-link" data-scroll-target="#sec-house-outputs-rendering-commands"><span class="header-section-number">31.2.2</span> Short rendering commands</a></li>
  <li><a href="#rendering-options" id="toc-rendering-options" class="nav-link" data-scroll-target="#rendering-options"><span class="header-section-number">31.2.3</span> Rendering options</a></li>
  <li><a href="#long-rendering-commands" id="toc-long-rendering-commands" class="nav-link" data-scroll-target="#long-rendering-commands"><span class="header-section-number">31.2.4</span> Long rendering commands</a></li>
  </ul></li>
  <li><a href="#advice-on-html-vs-pdf" id="toc-advice-on-html-vs-pdf" class="nav-link" data-scroll-target="#advice-on-html-vs-pdf"><span class="header-section-number">31.3</span> Advice on HTML vs PDF</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../../chapters/dialectica/61-dialectica-new-house-outputs.html">Dialectica</a></li><li class="breadcrumb-item"><a href="../../chapters/dialectica/61-dialectica-new-house-outputs.html"><span class="chapter-number">30</span>&nbsp; <span class="chapter-title">Dialectica new house style outputs</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span id="sec-dialectica-new-house-outputs" class="quarto-section-identifier"><span class="chapter-number">30</span>&nbsp; <span class="chapter-title">Dialectica new house style outputs</span></span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<div class="no-first-line-indent-after"></div>
<p>Dialectica outputs are <em>compiled</em>: from a markdown manuscript, image files, bibliography files and Dialectica’s template (itself a collection of files), it creates PDFs and HTML outputs. The <em>compilation environment</em> is the collection of software tools to do this: Pandoc, LaTeX, Quarto, and a few others. Instead of asking everybody to install these tools on their various Linux/Windows/Mac machines, and asking everybody to update them to the same version, we are using a “containerized” environment that is the same for all, no matter which machine you have.</p>
<p>Let’s briefly explain how this works, including key terms. In the old days, computers came with an ‘installation disk/DVD/USB key’ that had your computer system (Windows, Mac, Linux) and perhaps some basic software (a text editor). Using the disk/DVD/USB key, you set up the system on the machine, and then used the computer. And in the old days, you’d give each copyeditor a computer of the same model, with the same installation disk/DVD/USB key. We’re doing to do exactly that, except that our company computer is virtual and will be simulated by your own computer. The Docker application is the software that enables to do that.</p>
<p>The Docker application works with images and containers. We’ll have:</p>
<ul>
<li>an <em>image</em> of Dialectica’s compilation environment. This is like the old disk/DVD/USB, but in one file that’ll be downloaded from the internet. It contains all the software needed to create Dialectica outputs (Pandoc, LaTeX, etc.). It’s called an “image” in the sense that when we clone a hard drive’s contents we call the result an “image” of the hard drive. For Dialectica, the image will be named <code>philosophie-ch/dltc-env</code> and include a Linux system with the tools.</li>
<li>a <em>container</em> in which the image is installed. The container is like a small company computer, except that instead of being a real machine, the Docker app simulates it on your own computer. That is, the Docker app takes reserves some of your system’s resources (the processor, some memory, some temporary disk space), and simulates a mini computer with them, called a “container”. For Dialectica, your container will be named <code>dltc-env</code> and be a virtual Linux machine with Pandoc, LaTeX and other tools installed.</li>
</ul>
<div class="no-first-line-indent-after"></div>
<p>Once your container (virtual company computer) is created, it can be <em>started</em> or <em>stopped</em>. This is just like turning the company computer on and off.</p>
<p>The container (virtual company computer) is isolated from your actual system and filesystem, so it doesn’t change anything in your system, it doesn’t crash your system if it crashes, and you won’t see its internal files on your file browser.</p>
<p>There is one exception though: the container will have access to the <em>dialectica workshouse folder</em> on your own filesystem. That allows it to read manuscript markdown files, bibliography files, etc. in order to generate outputs, and then to write the generated outputs (PDF or HTML files) in your filesystem so you can view them.</p>
<p>Moreover, in the advanced text editor we’ll use (Visual Studio Code aka VSCode), you’ll be able to run a Terminal on the container (virtual company machine) itself. This allows you to tell the container to generate outputs.</p>
<section id="setting-up-your-system" class="level2" data-number="30.1">
<h2 data-number="30.1" class="anchored" data-anchor-id="setting-up-your-system"><span class="header-section-number">30.1</span> Setting up your system</h2>
<p>Dialectica copyediting requires:</p>
<ul>
<li>Docker, to run a container containing the actual environment</li>
<li>Git, to clone <a href="https://github.com/Philosophie-ch/dltc-env">the repository of the script to download and start the compilation environment</a></li>
<li>Recommended: VSCode, to comfortably connect and use the environment to edit articles</li>
</ul>
<div class="no-first-line-indent-after"></div>
<p>Briefly put, to set up, you need to install git and docker, and then be able to connect to a running container. <!-- what is a running container? --> In this guide, we’ll use VSCode <!-- what is VSCode --> as it makes it very easy to work inside docker containers <!-- again -->, but you’re free to work in a different editor and use the container directly from your terminal if you wish.</p>
<p>How to setup will depend on your specific Operating System. If you know how to install and configure git, docker and VSCode on your own, just skip this section and go chapter 3. Note that in this guide, VSCode replaces RStudio as an alternative better suited to interact with modern software tools (such as docker) and languages other than R (such as Markdown, LaTeX, and HTML).</p>
<p>For guidance or any problem not covered here, please contact Luis Bordo at <code>luis.bordo@philosophie.ch</code>.</p>
<section id="installing-git-docker-vscode" class="level3" data-number="30.1.1">
<h3 data-number="30.1.1" class="anchored" data-anchor-id="installing-git-docker-vscode"><span class="header-section-number">30.1.1</span> Installing git, docker, VSCode</h3>
<p>The following instructions need to be executed only once per machine. Here we will install and set up Docker, Git, and VSCode in your machine.</p>
<section id="windows" class="level4" data-number="30.1.1.1">
<h4 data-number="30.1.1.1" class="anchored" data-anchor-id="windows"><span class="header-section-number">30.1.1.1</span> Windows</h4>
<ol type="1">
<li><p>Download and install <a href="https://git-scm.com/downloads">git</a></p></li>
<li><p>Check that git is working in PowerShell. If you get no errors with the command below, then git is working correctly:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode powershell code-with-copy"><code class="sourceCode powershell"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>git <span class="op">--</span>version</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>Download, install, and open <a href="https://www.docker.com/products/docker-desktop/">Docker Desktop</a>. When installing Docker, choose the option to use WSL 2.</p>
<p>When you install Docker, you can use the recommended settings and select “Continue without signing in”.</p></li>
<li><p>Open PowerShell (you have it installed by default) and check that you have <code>wsl</code> version 2 or above with</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode powershell code-with-copy"><code class="sourceCode powershell"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>wsl <span class="op">--</span>version</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ol>
<ul>
<li>If you don’t, do <code>wsl --install</code>, wait, and do again <code>wsl --version</code></li>
<li>If you still don’t have wsl version 2 or above, go to the Troubleshooting section below</li>
</ul>
<ol start="5" type="1">
<li><p>Check that Docker is configured to run with WSL 2: open Docker Desktop, go to Settings, and mark the checkbox for using WSL 2 if it’s not marked already.</p>
<p>Additionally, in the settings, increase the CPU and memory limits of the containers to be at a minimum of 3/4 of your machine’s resources. For example, if you have an 8 core CPU and 16 GB of RAM, you could set the limits to 7 cores and 14 GB of RAM.</p></li>
<li><p>Now, in PowerShell, check that docker is working with:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode powershell code-with-copy"><code class="sourceCode powershell"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>docker run hello-world</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ol>
<div class="no-first-line-indent-after"></div>
<p>If you don’t get any errors, then docker is working in your machine</p>
<ol start="7" type="1">
<li>Install <a href="https://code.visualstudio.com/Download">VSCode</a></li>
</ol>
</section>
<section id="mac" class="level4" data-number="30.1.1.2">
<h4 data-number="30.1.1.2" class="anchored" data-anchor-id="mac"><span class="header-section-number">30.1.1.2</span> Mac</h4>
<ol type="1">
<li>Install <a href="https://brew.sh/">brew</a></li>
</ol>
<ul>
<li>For this, usually it’s a single command to execute in a terminal; just follow the instructions in the page</li>
</ul>
<ol start="2" type="1">
<li><p>Install <code>git</code> using brew. In a terminal, do:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode zsh code-with-copy"><code class="sourceCode zsh"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="ex">brew</span> install git</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>Check that git is working, in a terminal. If you get no errors with the command below, then git is working correctly:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode zsh code-with-copy"><code class="sourceCode zsh"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> <span class="at">--version</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>Download and install <a href="https://www.docker.com/products/docker-desktop/">Docker Desktop</a>. Make sure to pick your correct processor (Mac Intel Chip or Mac Apple Chip). <a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a></p>
<p>When you install Docker, you can use the recommended settings and select “Continue without signing in”.</p></li>
<li><p>Configure Docker. Launch the Docker application and open “Settings”.</p>
<ol type="i">
<li><p>In the “General” tab, check that the following options are enabled: “VirtioFS”, “Use Virtualization framework”, and “Use Rosetta for x86/amd64 emulation on Apple Silicon”. (These settings may not appear on Intel Chip macs; if they don’t ignore this step.)</p></li>
<li><p>Increase the CPU and memory limits of the containers to be at a minimum of 3/4 of your machine’s resources. For example, if you have an 8 core CPU and 16 GB of RAM, you could set the limits to 7 cores and 14 GB of RAM.</p></li>
</ol></li>
<li><p>Check that docker is working. In a terminal, run:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode zsh code-with-copy"><code class="sourceCode zsh"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> run hello-world</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>If you get no errors, Docker is working correctly. If you do, try running Docker (in Applications). Docker’s whale icon should appear in your system icon bar (i.e.&nbsp;alongside icons for Wifi, Bluetooth etc.).</p></li>
<li><p>Download and install <a href="https://code.visualstudio.com/Download">VSCode</a></p></li>
</ol>
</section>
<section id="linux" class="level4" data-number="30.1.1.3">
<h4 data-number="30.1.1.3" class="anchored" data-anchor-id="linux"><span class="header-section-number">30.1.1.3</span> Linux</h4>
<ol type="1">
<li>Install git</li>
</ol>
<ul>
<li>You most likely have it by default already. You can test this by doing <code>git --version</code> in a terminal</li>
<li>If you don’t have it, install it using your distribution’s package manager. For example, in Debian and Ubuntu (and their derivatives), do <code>sudo apt install git</code> in a terminal</li>
</ul>
<ol start="2" type="1">
<li>Follow [the official installation instructions for Docker] (https://docs.docker.com/engine/install/#server) to install <strong>Docker Engine</strong> in your Linux distribution</li>
</ol>
<ul>
<li><p>Follow <a href="https://docs.docker.com/engine/install/%20linux-postinstall/">the post-installation steps</a> to use docker in your terminal without needing to write <code>sudo</code> everytime</p></li>
<li><p>If you opt out from following these post-installation steps, you will need to adapt the docker comands in this document (i.e., append <code>sudo</code> to all of them, everytime)</p>
<p>You can use Docker without siging in.</p></li>
</ul>
<ol start="3" type="1">
<li><p>Check that docker is working, in a terminal. If you get no errors with the command below, then docker is working correctly:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> run hello-world</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>Install <a href="https://code.visualstudio.com/Download">VSCode</a></p></li>
</ol>
</section>
</section>
<section id="setup-pulling-the-docker-image-and-starting-a-container" class="level3" data-number="30.1.2">
<h3 data-number="30.1.2" class="anchored" data-anchor-id="setup-pulling-the-docker-image-and-starting-a-container"><span class="header-section-number">30.1.2</span> Setup: pulling the docker image and starting a container</h3>
<p>Once you have the necessary dependencies (git, docker, VSCode) are up and running on your machine, we proceed by using a script made to automatically download the latest version of the docker image containing the compilation environment, and start it. <!-- What does that mean? --> The terminal commands below should work in any shell in any operating system (PowerShell in Windows, zsh in Mac, bash in Linux).</p>
<p>Note that these instructions are the same as the ones in <a href="https://github.com/Philosophie-ch/dltc-env">the repository’s README</a>. Make sure that you have at least 10 GB of free space in your machine:</p>
<ol type="1">
<li><p>Using a terminal, first clone the git repository where the start script is: <!-- the repository that contains the start script? --> <!-- which should be your preferred location?? People who don't have GitHub repos cloned don't understand. Also, is this a temporary repo, or will it need to be there all the time? --></p>
<div class="sourceCode" id="cb8"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># cd to your preferred location. For example:</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="co"># mkdir ~/gitrepos</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="co"># cd ~/gitrepos</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> clone https://github.com/Philosophie-ch/dltc-env</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> dltc-env</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<!--Note: users may need to update this repo? Since we first tried with Sanna there has been updates. Perhaps this also needs instructions on how to update a git repo  --></li>
<li><p>Now copy the <code>.env.template</code> file into <code>.env</code> and edit its contents:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cp</span> .env.template .env</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="ex">code</span> .env</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This will open the file <code>.env</code> in VSCode. In VSCode you may see a message “Git repositories were found… do you want to open them?”, you can close it or ignore it.</p>
<p><strong>NOTE</strong>: you can navigate with your usual file explorer to the “dltc-env” folder, which will be located where you cloned it in step 1 (namely, within your Github folder). If you use the file explorer, you will however not immediately see the <code>.env</code>. To see it in the file explorer, you need to enable viewing hidden files. The way to do this depends on which system you are using. On the other hand, if you are viewing the contents of <code>dltc-env</code> in the VSCode text editor (for isntance, if you typed the <code>code .env</code> command above), the file explorer within VSCode will show you the <code>.env</code> files. If you are viewing the files that way, you do not need to enable viewing hidden files.</p>
<p>The contents of <code>.env</code> look like this:</p>
<pre><code>ARCH="amd64"  # put "arm64" if on an Apple Silicon Mac (M1, M2, etc.; non-Intel)
DLTC_WORKHOUSE_DIRECTORY="/YOUR/PATH/TO/Dropbox/philosophie-ch/dltc-workhouse"
DOCKERHUB_TOKEN="token_in_the_institutional_setup_page"</code></pre>
<p>This is a key-value file. <code>ARCH</code>, <code>DLTC_WORKHOUSE_DIRECTORY</code>, <code>DOCKERHUB_TOKEN</code> are keys, and the strings within quotes, <code>amd64</code>, <code>/YOUR/PATH...</code>, “token_in_the…” are their values. You need to put the values appropriate to your local system. You should set the values as follows, and save the file:</p>
<p>2.1 <code>ARCH</code>: the “architecture” of your machine. If you are on a Windows machine, a Linux machine, or a Mac with Intel chips (not Apple Silicon), leave this to <code>amd64</code>. If you have a Mac with Apple Silicon chip, set it to <code>arm64</code>.</p>
<p>2.2 <code>DLTC_WORKHOUSE_DIRECTORY</code>: the full path, on your local machine, to the <code>dltc-workhouse</code> folder inside Dropbox. Here’s one way to get it. Open a Terminal. Navigate (using <code>cd</code>commands ) to that folder, and run the command <code>pwd</code> (‘present working directory’). It will display the full path to that folder, e.g.&nbsp;<code>/Users/janedoe/Dropbox/Philosophie-ch/dltc-workhouse/</code> on a Mac.</p>
<p>2.3 <code>DOCKERHUB_TOKEN</code>: the <strong>login token</strong> (not the “password”) for the dockerhub account. You can find it in the “Institutional set-up” page in our Google Drive, “Passwords” section.</p>
<p>Do not forget to save <code>.env</code> when you have done this.</p></li>
<li><p>Now you can execute the start script. From the folder <code>dltc-env</code>, in Linux and Mac run:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="ex">./dltc-env-start.sh</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>(Equivalently: <code>sh dltc-env-start.sh</code>. When a file is a script, for safety reasons it cannot be launched just by typing the file name, you have to either launch the shell script executor <code>sh</code> followed by the name of the script, or, you have to precede the script by its path. Since here, the script <code>dltc-env-start.sh</code> is in your current folder, the path to it is: <code>./</code>. The dot is the current folder, and the slash separates the folder name, <code>.</code>, from the script file name, <code>dltc-env-start.sh</code>. This is why the full path is <code>./dltc-env-start.sh</code>.)</p>
<p>On Windows, run:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode powershell code-with-copy"><code class="sourceCode powershell"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="op">.</span>\dltc-env-start<span class="op">.</span><span class="fu">ps1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>(The idea is as before, <code>.</code> is the current folder and <code>\</code> the (Windows-style) separator. There is probably an equivalent such as <code>ps dltc-env-start.ps1</code> but I don’t know it.)</p></li>
</ol>
<div class="no-first-line-indent-after"></div>
<p>The last command downloads an “image” of Dialectica’s “compilation environment” (a mini Linux system containing Pandoc, LaTeX and other utilities), and it runs this image in a mini-machine simulated by your computer called a Docker “container”. The first time you execute this command it will take a while as it needs to download the image, which is about 5-10Gb. But this will only happen the first time it’s used, and where there are updates of the images online.</p>
<p>If the compilation environment starts correctly, you will see a message like the following:</p>
<pre><code>Logged in to Docker Hub as philosophiech

latest-arm64: Pulling from philosophiech/dltc-env
ce9ebea987c2: Pull complete 
42ca1070b43f: Pull complete 
3d93737c6ee5: Pull complete 
...
61e48dddaaa9: Pull complete 
Digest: sha256:bc24161a6b997899ce3881246ee17a4aeae03e6885ab77e1b18cdb2092dc2248
Status: Downloaded newer image for philosophiech/dltc-env:latest-arm64
docker.io/philosophiech/dltc-env:latest-arm64

Successfully pulled latest dltc-env image for arm64; now logged out of Docker Hub

Starting dltc-env container, please wait...
[+] Running 1/2
⠴ Network dltc-env_default  Created                                     0.5s 
✔ Container dltc-env        Started                                     0.5s 

...success!</code></pre>
<div class="no-first-line-indent-after"></div>
<p>Careful that the last line <code>success</code> may display even if there was an error! If you encounter one of the errors below, try to fix it and run the script again.</p>
<p>Errors you may encounter when running the <code>dltc-env-start</code> script:</p>
<ol type="1">
<li><p>The error message: “<code>dltc-env-start</code>: No such file or directory”. Your terminal is not located in the <code>dltc-env</code> folder, itself in your GitHub repositories folder. Use <code>cd</code> commands to change its location to the <code>dltc-env</code> folder.</p></li>
<li><p>The error message: “<code>DLTC_WORKHOUSE_DIRECTORY</code> does not exist.”</p>
<p>If you get this error there must be something wrong with the path you put as the value of <code>DLTC_WORKHOUSE_DIRECTORY</code> in the <code>.env</code> file. If you’re not sure what’s wrong, try the steps of finding out the full path of Dialectica’s workhouse folder before, and check you have saved <code>.env</code>.</p></li>
<li><p>The following error:</p>
<pre><code>! dltc-env The requested image's platform (linux/amd64) does not match the detected host platform (linux/arm64/v8) and no specific platform was requested 0.0s </code></pre>
<p>This is because the value for <code>ARCH</code> in the <code>.env</code> file is wrong, so the script has downloaded an <code>image</code> that cannot be ran on your machine. Double-check it. Once you have fixed it, you should (1) delete the container and its image and then (2) re-run the script. To delete the container and its image: open the Docker app, go the Containers tab (box-like icon on the left tab), look if the list contains an item named <code>dltc-env</code>, and click the Trash icon next to it; then go to the Images tab (empty cube icon on the left tab), look whether it contains an item named <code>philosphie-ch/dtlc-env</code> and click the Trash icon next to it. If these items don’t show up, you have nothing to delete. Once you’ve deleted any container/image remaining, you can start the script again.</p></li>
<li><p>An error like the following:</p>
<pre><code>Cannot connect to the Docker daemon at unix:///var/run/docker.sock. Is the docker daemon running?

Successfully pulled latest dltc-env image for arm64; now logged out of Docker Hub

Starting dltc-env container, please wait...
Cannot connect to the Docker daemon at unix:///var/run/docker.sock. Is the docker daemon running?
Cannot connect to the Docker daemon at unix:///var/run/docker.sock. Is the docker daemon running?

...success!</code></pre>
<p>(Note that the “success” messages are incorrect here.) This “Cannot connect to the Docker daemon error” is because Docker (the application that runs the compilation environment ‘image’ in a ‘container’) is not started. Launch the Docker application and try running the <code>dltc-env-start</code> script again.</p></li>
<li><p>An error message like the following:</p>
<pre><code>MacBook-Air:dltc-env sannahirvonen$ ./dltc-env-start.sh
Logged in to Docker Hub as philosophiech

latest-amd64: Pulling from philosophiech/dltc-env
29202e855b20: Pull complete 
04c6e9d3a90b: Pull complete 
...
write /var/lib/docker/tmp/GetImageBlob1011053309: input/output error

Successfully pulled latest dltc-env image for amd64; now logged out of Docker Hub

Starting dltc-env container, please wait...
[+] Running 1/1
✘ Container dltc-env  Error while Removing                               10.3s 
Error response from daemon: container 4ccdac99d0fb7b215bebca79fc1b752d14a1e78575efa547b9fd46a1a4dac282: driver "overlay2" failed to remove root filesystem: unlinkat /var/lib/docker/overlay2/4d90b7b3fe97f8cb8470efce26625765b4dcc6699b73ee56d041859dc9071f9b: read-only file system
[+] Running 1/1
✘ dltc-env Error                                                          0.1s 
Error response from daemon: error creating temporary lease: write /var/lib/desktop-containerd/daemon/io.containerd.metadata.v1.bolt/meta.db: input/output error: unknown

...success!</code></pre>
<p>We don’t know why this happens. But if it does, try deleting the container and image and restarting the script. To do this, open Docker app. Go the Containers tab (box-like icon on the left tab), look if the list contains an item named <code>dltc-env</code>, and click the Trash icon next to it; then go to the Images tab (empty cube icon on the left tab), look whether it contains an item named <code>philosphie-ch/dtlc-env</code> and click the Trash icon next to it. If these items don’t show up, you have nothing to delete. Once you’ve deleted any container/image remaining, you can start the script again.</p></li>
<li><p>An error message like the following:</p>
<pre><code>Error response from daemon: failed to create task for container: failed to create shim task: OCI runtime create failed: runc create failed: unable to start container process: error during container init: error mounting "/host_mnt/Users/janedoe/.gitconfig" to rootfs at "/home/copyeditor/.gitconfig": mount /host_mnt/Users/janedoe/.gitconfig:/home/copyeditor/.gitconfig (via /proc/self/fd/7), flags: 0x5000: not a directory: unknown: Are you trying to mount a directory onto a file (or vice-versa)? Check if the specified host path exists and is the expected type</code></pre>
<p>This is because Git is badly configured. More precisely, you have a <code>.gitconfig</code> <em>folder</em> at the base of your user directory, while <code>.gitconfig</code> should be a <em>file</em>. (It won’t show up in the browser because ‘.xxx’ items are hidden, but you can see it with the option ‘show hidden files’ or by running the <code>ls</code> command in a terminal located at the root of your user directory). We have encoutered this error and we don’t know why it happens.</p>
<p>We solved it by removing the folder and creating an empty <code>.gitconfig</code> file. On Linux/MacOS, remove the folder with:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span> <span class="at">-r</span> ~/.gitconfig</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>And create an empty <code>.gitconfig</code> file with:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">touch</span> ~/.gitconfig</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ol>
</section>
<section id="starting-and-stopping-the-compilation-environment-container" class="level3" data-number="30.1.3">
<h3 data-number="30.1.3" class="anchored" data-anchor-id="starting-and-stopping-the-compilation-environment-container"><span class="header-section-number">30.1.3</span> Starting and stopping the compilation environment container</h3>
<p>The compilation environment that produces output runs in a ‘Docker container’ that can be started or stopped. It’ll stop if you close Docker or restart your computer. Optionally, you can stop the container when you finish working on your copyediting tasks and restart it when you start again. (If you don’t stop it, it won’t slow down your computer in any noticeable way but it’ll use a bit of memory but shouldn’t slow down your computer in a noticeable way.)</p>
<p>Starting and stopping containers can be done from the terminal or from the Docker app. From the terminal, use:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> stop dltc-env</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="no-first-line-indent-after"></div>
<p>to stop it, and</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> start dltc-env</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="no-first-line-indent-after"></div>
<p>to start it again.</p>
<p>From the Docker app, go to Containers tab: a box icon on the top left. (Don’t forget to close the Settings if you haven’t.) In the list of containers you should see one called <code>dltc-env</code>. It’s greyed out if stopped, green if started. In the Actions column, there’s a play or stop icon you can use to start or stop it.</p>
</section>
<section id="setup-vscode" class="level3" data-number="30.1.4">
<h3 data-number="30.1.4" class="anchored" data-anchor-id="setup-vscode"><span class="header-section-number">30.1.4</span> Setup: VSCode</h3>
<p>While not strictly mandatory, it is highly recommended to use Visual Studio Code (VSCode) for the copyediting work. VSCode is a modern, general text editor suited for all tasks programming and writing. It has support for state-of-the-art software tools such as Docker, and through its vast market of extensions, provides great support for Markdown, LaTeX, HTML, and Quarto. It is lightweight, not tied to any specific programming or writing language, and doesn’t need specific programming languages installed.</p>
<p>For this subsection, it is recommended that you create a <a href="https://github.com/">GitHub</a> account, and then connect to it in VSCode.<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a></p>
<ul>
<li>Create an account on <a href="https://github.com/">GitHub</a>.</li>
</ul>
<div class="no-first-line-indent-after"></div>
<p>Now set up VSCode. VSCode has a “profile” functionality: you can create distinct profiles, where each profile has its own set of tools (“extensions”). Initially, there’s only the “default” profile. We recommend you create a specific “dialectica copyeditor” profile.</p>
<ul>
<li><p>Create a ‘profile’ to manage the extensions you need for copyediting.</p></li>
<li><p>In the vertical toolbar to the left, click on the cogwheel (Settings) and choose Profiles &gt; Create profile…</p></li>
<li><p>Give a name to your profile e.g., “dltc-copyediting” and use the default options</p></li>
</ul>
<div class="no-first-line-indent-after"></div>
<p>You can switch profiles by going to the Settings cogwheel &gt; Profiles.</p>
<p>Next, we install useful Extensions in this profile.</p>
<ol type="1">
<li>Install the “Dev Containers” extension (by Microsoft). On the left toolbar, click on “Extensions” (the cube pile), and search for “Dev Containers”. It should show up with an “Install” button. Install it.</li>
<li>Install the “Remote Explorer” extension (by Microsoft). On the left toolbar, click on “Extensions” (the cube pile), search for “Remote Explorer” and install it. (If you don’t see an install button, that means it’s already been automatically installed at the previous step; you can move on to the next step.)</li>
<li>Connect VSCode to the Dialectica container. This requires that the container is started (see above). On the left bar, you should see a Remote Explorer tab (a screen with the <code>&gt;&lt;</code> logo). Click on it, it display a navigation column on the left. You should find a “Dev Containers” section there, and within it, the <code>dtlc-env</code> container name. (If you don’t already see the name, click on “Dev Containers” to expand it. If after that you still don’t see it, make sure the container is started.) Hover on the <code>dltc-env</code> and click on the right arrow just next to it (“Attach in Current Window”). You get a warning that attaching to a container may execute arbitrary code: accept (“Got it”).</li>
</ol>
<div class="no-first-line-indent-after"></div>
<p>This has ‘connected’ the present VSCode window to the container (i.e., the virtual company computer that runs Dialectica’s compilation environment to generate output).</p>
<p>Finally, install some extensions that are useful for copyediting in markdown and LaTeX and Quarto, and to preview outputs.</p>
<ol type="1">
<li>On the left toolbar, click “Extensions”. Search and install all of the following:</li>
</ol>
<ul>
<li>LaTeX Workshop (by James Yu)</li>
<li>Markdown All in One (by Yu Zhang)</li>
<li>Quarto (by Quarto)</li>
<li>HTML Preview (by George Oliveira)</li>
</ul>
<div class="no-first-line-indent-after"></div>
<p>Other recommended extensions are:</p>
<ul>
<li>Error Lens (by Alexander)</li>
<li></li>
</ul>
</section>
<section id="optional-extra-setup-connect-vscode-to-github" class="level3" data-number="30.1.5">
<h3 data-number="30.1.5" class="anchored" data-anchor-id="optional-extra-setup-connect-vscode-to-github"><span class="header-section-number">30.1.5</span> Optional extra setup: connect VSCode to GitHub</h3>
<p>Optionally, connect VSCode to GitHub. <!-- what for? Is it only in order to edit the guide? --></p>
<ol type="1">
<li><p>Install “GitHub Pull Requests and Issues” extension. On the left toolbar, click on Extensions, and search and install the “GitHub Pull Requests and Issues” extension.</p></li>
<li><p>Connect to your GitHub account. On the left toolbar, look down for ‘Accounts’, and connect to your GitHub account. (If you’re on a public Wifi this may not work; use a private one or your mobile hotspot.)</p></li>
<li><p>Then, clicking again on ‘Accounts’, enable both ‘Settings Sync’ and ‘Turn on Cloud Changes’. This will synchronize your VSCode settings in any device you connect it to your account.</p>
<ul>
<li><em>Recommended</em>. Tell VSCode not to report your activity to Microsoft (they spy us enough already). Click on the cogwheel icon at the bottom of the vertical toolbar on the left, and go to “Settings”. On the page that appears, use the search bar at the top to search for “telemetry”, and set the “Telemetry Level” to “off”.</li>
</ul></li>
</ol>
<div class="no-first-line-indent-after"></div>
<p>If you have a GitHub pro account, we also recommend:</p>
<ul>
<li>GitHub Copilot (by GitHub)</li>
<li>GitHub Copilot Chat (by GitHub)</li>
</ul>
<div class="no-first-line-indent-after"></div>
<p>If you have a university student account and email, <a href="https://education.github.com/pack">you can be granted a GitHub pro account for free</a>. Copilot is an AI assistant that can help you code in general, including help you with Markdown and LaTeX, both directly in VSCode when you edit files and in a chat button provided by the Chat extension (that will appear in the left toolbar).</p>
</section>
<section id="checking-that-your-setup-is-right" class="level3" data-number="30.1.6">
<h3 data-number="30.1.6" class="anchored" data-anchor-id="checking-that-your-setup-is-right"><span class="header-section-number">30.1.6</span> Checking that your setup is right</h3>
<p>Whenever you start VSCode:</p>
<ol type="1">
<li>Make sure that you’re using the profile you created. If you did create a specific profile for dialectica copyediting, you should see an acronym for it (e.g.&nbsp;“DL”) on the Settings cogwheel at the bottom left. If you didn’t and are using the default profile, you’re fine.</li>
<li>Make sure that the Extensions installed above are installed “inside” the container. This explained below.</li>
<li>If you have connected VSCode to GitHub, check that you’re connected to your GitHub account (in “Accounts”), and that you’re using the profile you created (in “Settings &gt;&gt; Profiles”).</li>
</ol>
<div class="no-first-line-indent-after"></div>
<p>To ensure that VSCode Extensions are installed “inside” the container:</p>
<ol type="1">
<li><p>Click the “Extensions” button of the left toolbar. Clear any search in the search bar. Now, you will see a “Local - Installed” section that lists the extensions we’ve installed. (Note that this section is collapsible: if there’s a <code>&gt;</code> next to “Local Installed”, click on it to expand.) You might see that some extensions bear a blue label “Install in container”. If they do, click on the label to install these extensions “within” the container. If none shows that label, you’re fine. Beware that you might need to scroll down to review all extensions in the “Local - Installed” section.</p></li>
<li><p>Check that your current window is “attached” to Dialectica’s container. The bottom of VSCode’s window is a status bar. To its left there is a <code>&gt;&lt;</code> icon that tells what the window is connected to. If it shows <code>&gt;&lt; Container philosophiech/dltc-env...</code>, your window is attached to Dialectica’s container (the virutal company computer that will produce outputs). If it’s just a green <code>&gt;&lt;</code> symbol, it’s not attached. You need to attach it as follows:</p>
<ul>
<li>Click the “Remote Explorer” (screen with the <code>&gt;&lt;</code> logo) on the left toolbar. It opens a navigation column. At the top you should see a “Dev Containers” section. (It’s collapsible: if you see the <code>&gt;</code> symbol left of “Dev Containers”, click it to expand.) You should see the container named <code>dtlc-env</code> with a green badge. If there’s no green badge on it, the Dialectica container isn’t connected. Click the right arrow right next to <code>dltc-env</code> (it says “Attach in current window” if you hover the mouse pointer over it for a few seconds).</li>
<li>If all goes well, after the window reopens you should see <code>&gt;&lt; Container philosophiech/dltc-env...</code> in the bottom status bar, on the left.</li>
</ul></li>
</ol>
</section>
<section id="sec-working-inside-a-container" class="level3" data-number="30.1.7">
<h3 data-number="30.1.7" class="anchored" data-anchor-id="sec-working-inside-a-container"><span class="header-section-number">30.1.7</span> Working ‘inside’ a container</h3>
<p>Once you attached a VSCode window in a container, you’re <em>working inside that container</em>. What does that mean? In VSCode you can run commands on a terminal. Normally, terminal commands are run on your own system. But when a VSCode window is attached to a container, its terminal runs commands <em>on that container</em>—that is, on the virtual company computer we’ve just created.</p>
<p>Things you do inside the container stay in the container, so even if you broke it nothing bad would happen. The one exception is the <code>dltc-workhouse</code> folder. Within the container, there’s a user home folder than contains a folder called <code>dltc-workhouse</code> folder. That folder is the dialectica folder of your system. It’s <em>shared</em> between your own system and the container. You do not want to damage or delete them. Beware in particular of <code>rm</code> (remove) commands, which deletes files and folders without seeking confirmation.</p>
<p>Now, let’s view the <code>dltc-workhouse</code> folder in VSCode. On the leftbar select the Explorer icon (a documents icon). You will see an “Open folder” button. It opens a search bar at the top, which should already list some options (namely, folders in the container), including <code>dltc-workhouse</code>. Click on that; the window will reopen and now the Explorer on the left should show you the files within the <code>dltc-workhouse</code> folder.</p>
<p>Then, let’s try the terminal within VSCode. If you don’t already see the Terminal at the bottom of your VSCode window, go to the menu Terminal &gt; New Terminal. It’ll create one at the bottom. You’ll see a line:</p>
<pre><code>copyeditor@dltc-env:~/dltc-workhouse$</code></pre>
<div class="no-first-line-indent-after"></div>
<p>This is a “prompt”: it waits for your to run a command. It consists of three parts: username, here <code>copyeditor</code> (that’s <em>your</em> identifier within the container), current location, here <code>~/dltc-workhouse</code> and the <code>$</code> sign (meaning ‘waiting for your command!’). What is the current location? A terminal is always ‘located’ in some folder, this is the place ‘where’ command are run. Here your location is within the container. The <code>~</code> is an abbreviation for the user’s home folder; here it is the home folder of the user <code>copyeditor</code> <em>within the container</em>.</p>
<p>Note: your container is a virtual Linux machine. So, it’s terminal uses Linux / MacOS terminal commands (<code>cd</code>, <code>ls</code>, <code>cp</code>, <code>rm</code>), not the Windows ones (<code>cd</code> but otherwise <code>dir</code>, <code>copy</code>, <code>del</code>).</p>
<p>See <a href="../appendices/terminal-help.html" class="quarto-xref"><span>Appendix A</span></a> on how to use a terminal, in particular how to navigate to relocate it in a different folder. Note that you can always run:</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="bu">pwd</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="no-first-line-indent-after"></div>
<p>To display the full path of your “present working directory”, that is, the folder the terminal is located at.</p>
<p>Let’s now try generating an output. Relocate the terminal within an article folder. Choose an article in progress, not a finished one! The article folder should contain a proper <code>master.md</code> file (if you can’t find an article in progress with one, see details below on how to create one). Run:</p>
<pre><code>dltc-make off1html</code></pre>
<div class="no-first-line-indent-after"></div>
<p>This should generate a HTML output of the article in the same folder. (If in doubt, delete the current HTML output and run the command again.)</p>
<p>Tip. There are several ways you can relocate a VSCode terminal to a specific folder. You can use the <code>cd</code> commands. But you can also use the two following options. Note that these clear up the window, closing any files you might have open, so only use them if you want a clean window:</p>
<ol type="1">
<li>Use the Explorer (click the Explorer icon on the leftbar), browse the folders, right-click a folder an select “Open in Integrated Terminal”. Note however that this creates a clean window, so it closes any files you have already open in VSCode.</li>
<li>Open the folder in question as root folder. Above we’ve opened the <code>dltc-workshouse</code> folder, so VSCode’s Explorer on the left shows you all the folders it contains. You could decide to open some specific issue or article folder as your base folder instead. In the menu select File &gt; Open Folder…. This opens a search bar when you can search and select a folder to open. When the window refreshes with that folder as base folder, your terminal is then located in that folder.</li>
</ol>
</section>
<section id="a-warning" class="level3" data-number="30.1.8">
<h3 data-number="30.1.8" class="anchored" data-anchor-id="a-warning"><span class="header-section-number">30.1.8</span> A warning</h3>
<p>Be careful when you run commands in <code>dltc-workhouse</code> and its subfolders. While the container in general is isolated from your system (hence whatever you change or install in it doesn’t affect your sytem), the exception is the <code>dltc-workhouse</code>, which is the one containing the article files on your system. You do not want to damage or delete them. Beware in particular of <code>rm</code> (remove) commands, which deletes files and folders without seeking confirmation.</p>
<p>We can install new tools or modify existing ones in the environment depending on the needs of the copyediting team. Please contact Luis Bordo at <code>luis.bordo@philosophie.ch</code> for any such request.</p>
</section>
<section id="advanced-using-the-container-directly-from-a-terminal" class="level3" data-number="30.1.9">
<h3 data-number="30.1.9" class="anchored" data-anchor-id="advanced-using-the-container-directly-from-a-terminal"><span class="header-section-number">30.1.9</span> Advanced: using the container directly from a terminal</h3>
<p>Additionally, if you know what you’re doing, you can start a shell within the container without using VSCode. With this, you can use the terminal directly to compile articles. Altough rather clumsy as an approach, this would allow you to, for example, keep using RStudio to work on copyediting tasks and then compiling the articles separatedly in a terminal using the container.</p>
<p>From anywhere in your system, do:</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode sh code-with-copy"><code class="sourceCode bash"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> exec <span class="at">-ti</span> <span class="at">--volume</span><span class="op">=</span><span class="st">"YOUR/PATH/TO/Dropbox/philosophie-ch/dltc-workhouse:/home/copyeditor/dltc-workhouse"</span> philosophiech/dltc-env:latest bash</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="no-first-line-indent-after"></div>
<p>If this worked properly, you should see your prompt change to <code>copyeditor@dltc-env</code>. Here, you can now navigate to <code>~/dltc-workhouse</code>, where you will find the usual Dropbox files for copyediting.</p>
<p>Note that you can execute the command above in an integrated terminal in any other editor (such as RStudio). This will give you a shell inside the container with access to all the tools you need for the copyediting work.</p>
</section>
<section id="troubleshooting-installation" class="level3" data-number="30.1.10">
<h3 data-number="30.1.10" class="anchored" data-anchor-id="troubleshooting-installation"><span class="header-section-number">30.1.10</span> Troubleshooting Installation</h3>
<section id="common-issues" class="level4" data-number="30.1.10.1">
<h4 data-number="30.1.10.1" class="anchored" data-anchor-id="common-issues"><span class="header-section-number">30.1.10.1</span> Common issues</h4>
<ul>
<li>Problem: In VSCode, connected to the container, you don’t see any file in ‘dltc-workhouse’ when you open it</li>
</ul>
<div class="no-first-line-indent-after"></div>
<p>Solution: this is most likely due to not properly setting your <code>.env</code> file. Go to the folder in which you cloned the GitHub repository for the compilation environment, copy the <code>.env.template</code> file to a new file called <code>.env</code>. Now open this file, and change the value of “DLTC_WORKHOUSE_DIRECTORY” to the full path of where the dltc-workhouse folder (inside Dropbox) is.</p>
<p>Note that, for Windows, you need to change “\” for “/” in the path name. That is, if your folder is in “C:\Users\…”, you must change it to “C:/Users/…”.</p>
<ul>
<li>Problem: while working in the container, you see an error with code “-9”, or anything related to being “out of memory”</li>
</ul>
<div class="no-first-line-indent-after"></div>
<p>Solution: you’re running a heavy task inside the container, and it’s eating up a lot of resources in your machine, so docker is killing the task. This could happen, for example, when compiling PDFs with the big bibliography file. Go to your Docker settings and allow your containers a higher limit on the CPU (or “cores”) and on “memory” (RAM). At least 3/4 of the highest limit should be enough in most cases, but if it’s not enough you can go up to 100%. Just note that if you do this (allowing 100% use of resources), the task is very intense and you’re on an old computer, your machine could crash.</p>
</section>
<section id="installing-wsl-version-2-on-windows" class="level4" data-number="30.1.10.2">
<h4 data-number="30.1.10.2" class="anchored" data-anchor-id="installing-wsl-version-2-on-windows"><span class="header-section-number">30.1.10.2</span> Installing WSL version 2 on Windows</h4>
<p><strong>Note</strong>: if you don’t feel comfortable modifying the options of your machine’s BIOS or UEFI, get in contact with Luis Bordo at <code>luis.bordo@philosophie.ch</code> to guide you through personally. Otherwise, follow the instructions below.</p>
<ol type="1">
<li><p>Enable ‘virtualization’. To do this, we need to go to the computer’s BIOS or UEFI. If you know how to do this, do it as you know and ignore the instructions below. Otherwise, follow these steps. <strong>WARNING</strong>: this will restart your computer:</p>
<ol type="1">
<li>Go to Settings</li>
<li>Go to Update and Security (or a setting with a similar name)</li>
<li>Go to “Recovery”</li>
<li>Click on <code>Restart now</code> in the section “Advanced start-up”
<ol type="1">
<li>Click on “Troubleshoot”</li>
<li>Click on “Advanced Options”</li>
<li>Click on on the option that mentions either “UEFI” or “BIOS”</li>
<li>Click on “Restart”. This will restart your computer and automatically send you to the BIOS or UEFI settings</li>
</ol></li>
<li>Now this depends on your specific machine, but under some field called “Security”, you should find a sub-field called “Virtualization”. Inside this sub-field you should <code>Enable</code> all options</li>
<li>Save and exit the BIOS or UEFI. <strong>IMPORTANT</strong>: you need to SAVE before exiting, otherwise you will need to redo the steps above</li>
<li>To check that virtualization is enabled, go to the Task Manager, to the Tab <strong>TODO</strong></li>
</ol></li>
<li><p>Enable ‘wsl version 2’. Open PowerShell as Administrator, and then:</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode powershell code-with-copy"><code class="sourceCode powershell"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>dism<span class="op">.</span><span class="fu">exe</span> <span class="op">/</span>online <span class="op">/</span>enable-feature <span class="op">/</span>featurename<span class="op">:</span>VirtualMachinePlatform <span class="op">/</span>all <span class="op">/</span>norestart</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>wsl <span class="op">--</span>set-default-version <span class="dv">2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ol>
<ul>
<li>If something goes wrong, follow the instructions given in PowerShell</li>
<li>To check if all of this worked, do <code>wsl --version</code> in Powershell</li>
</ul>
</section>
</section>
</section>
<section id="generating-outputs" class="level1" data-number="31">
<h1 data-number="31"><span class="header-section-number">31</span> Generating outputs</h1>
<p>By “Terminal” we mean a command line interface. See Appendix -<a href="../appendices/terminal-help.html" class="quarto-xref"><span>Appendix A</span></a> on how to use it.</p>
<p>The commands below to generate outputs must be run <em>within the Dialectica container</em>. The simplest way to do it is to connect VSCode to a container and use the terminal provided by VSCode. See <a href="#sec-working-inside-a-container" class="quarto-xref"><span>Section 30.1.7</span></a>.</p>
<p>Unless otherwise indicated, file paths below are given relative to the base (“root”) of Dialectica’s workhouse folder (<code>dltc-workhouse</code>).</p>
<p>Since you’re working inside a container, and the container is a virtual Linux machine, you use Linux (/MacOS) terminal commands. This means in particular that paths are written with forward slashes:</p>
<pre><code>2021/2021-03-issue/02-doe</code></pre>
<div class="no-first-line-indent-after"></div>
<p>Not with backslash as in Windows (<code>2021\2021-03-issue\02-doe</code>), even if your computer has a Windows system.</p>
<section id="prepare-an-article-or-issue-folder" class="level2" data-number="31.1">
<h2 data-number="31.1" class="anchored" data-anchor-id="prepare-an-article-or-issue-folder"><span class="header-section-number">31.1</span> Prepare an article or issue folder</h2>
<p>You’ll need to add the following file to your article working folder to be able to generate outputs.</p>
<ul>
<li>A <em>master file</em>, which contains issue-level metadata needed to generate your article outputs.</li>
</ul>
<section id="create-a-master-file" class="level3" data-number="31.1.1">
<h3 data-number="31.1.1" class="anchored" data-anchor-id="create-a-master-file"><span class="header-section-number">31.1.1</span> Create a master file</h3>
<p>Copy a <code>master.md</code> file into your article folder. You can take one from another article in the same issue, or the template one at <code>template/X.X/copyeditors-scripts</code>. Beware: you can take the master file in the <em>issue</em> folder, but if you do so you’ll need to modify paths in the <code>imports</code> field (see below).</p>
<p>Open the file in text editor. It should already contain an <code>imports</code> metadata field that consists of a list of one or more files (each item on a single line starting with a dash), for instance:</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode yaml code-with-copy"><code class="sourceCode yaml"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">imports</span><span class="kw">:</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="kw">-</span><span class="at"> 01-author.md</span></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a><span class="kw">-</span><span class="at"> 02-author.md</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="no-first-line-indent-after"></div>
<p>You should amend it to contain just one item referring to your file. If your markdown file is <code>smith_j-2023.md</code> you should make it:</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode yaml code-with-copy"><code class="sourceCode yaml"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">imports</span><span class="kw">:</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="kw">-</span><span class="at"> smith_j-2023.md</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="no-first-line-indent-after"></div>
<p><em>Note on issue master files</em>. Issues have master files too, where located in issue folders. Their <code>imports</code> field normally contain a list of all article files for that issue, <em>including which subfolder they’re in</em>, for instance:</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode yaml code-with-copy"><code class="sourceCode yaml"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">imports</span><span class="kw">:</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="kw">-</span><span class="at"> 01-jones/jones_s-2023.md</span></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a><span class="kw">-</span><span class="at"> 02-smith/smith_j-2023.md</span></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a><span class="kw">-</span><span class="at"> ...</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="no-first-line-indent-after"></div>
<p>Therefore, if you copy an issue master file within an article folder, or the other way round, you should make sure you add (issue master file) or remove (article master file) the subfolders names as required.</p>
</section>
</section>
<section id="generate-outputs" class="level2" data-number="31.2">
<h2 data-number="31.2" class="anchored" data-anchor-id="generate-outputs"><span class="header-section-number">31.2</span> Generate outputs</h2>
<section id="run-a-command-in-the-terminal" class="level3" data-number="31.2.1">
<h3 data-number="31.2.1" class="anchored" data-anchor-id="run-a-command-in-the-terminal"><span class="header-section-number">31.2.1</span> Run a command in the terminal</h3>
<p>You can generate outputs by running the <code>dltc-make</code> command in a terminal inside the container containing the compilation environment.</p>
<ul>
<li><p>In VSCode (or RStudio), if you’ve created a project for your article, it’s best to use the integrated terminal (in the “Terminal” menu in VSCode, “Tools” in RStudio). Make sure that you are “located in” the project’s folder by executing <code>pwd</code>. If the path doesn’t correspond to your project’s, then navigate with <code>cd</code> to where your project is.</p></li>
<li><p>If you’re using a separate terminal application, you’ll need to navigate with <code>cd</code> to the folder where your article is.</p></li>
</ul>
<div class="no-first-line-indent-after"></div>
<p>See <a href="../appendices/terminal-help.html" class="quarto-xref"><span>Appendix A</span></a> for help.</p>
</section>
<section id="sec-house-outputs-rendering-commands" class="level3" data-number="31.2.2">
<h3 data-number="31.2.2" class="anchored" data-anchor-id="sec-house-outputs-rendering-commands"><span class="header-section-number">31.2.2</span> Short rendering commands</h3>
<p>Rendering commands can be executed in a <em>article</em>’s folder or in an <em>issue</em> folder. All these commmands must be added to <code>dltc-make</code>, e.g.:</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="ex">dltc-make</span> offprints</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="no-first-line-indent-after"></div>
<p>Single-article outputs will be named after the source file, e.g. <code>smith_j-2020.pdf</code>. Issue outputs will be named after the issue DOI, e.g.&nbsp;<code>dial.v74.i1.pdf</code> or <code>dial.v75.i2-book.pdf</code>.</p>
<table class="caption-top table">
<caption>Article folder rendering commands</caption>
<colgroup>
<col style="width: 23%">
<col style="width: 61%">
</colgroup>
<thead>
<tr class="header">
<th>Command</th>
<th>Output</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>(empty)</td>
<td>article in HTML</td>
</tr>
<tr class="even">
<td><p><code>offpdf</code></p>
<p><code>off1pdf</code></p></td>
<td>article in PDF</td>
</tr>
<tr class="odd">
<td><p><code>offtex</code></p>
<p><code>off1tex</code></p></td>
<td>article in LaTeX. Useful to debug when the PDF generation crashes: try <code>lualatex smith_j-2020.tex</code> to see error messages.</td>
</tr>
<tr class="even">
<td><code>refs</code></td>
<td>generate a list of references cited in the article. Saved as <code>&lt;article_name&gt;.bib.txt</code>. Only works when the references have been turned into citations and a bibtex file is provided.</td>
</tr>
</tbody>
</table>
<table class="caption-top table">
<caption>Issue folder rendering commands</caption>
<colgroup>
<col style="width: 23%">
<col style="width: 61%">
</colgroup>
<thead>
<tr class="header">
<th>Command</th>
<th>Output</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>(empty)</td>
<td>first article in HTML</td>
</tr>
<tr class="even">
<td><code>all</code></td>
<td>issue pdf, all articles PDF + HTML</td>
</tr>
<tr class="odd">
<td><code>allhtml</code></td>
<td>all offprints (=articles) in HTML</td>
</tr>
<tr class="even">
<td><p><code>offprints</code></p>
<p><code>off</code></p></td>
<td>all offprints HTML and PDF</td>
</tr>
<tr class="odd">
<td><p><code>vol</code></p>
<p><code>volpdf</code></p></td>
<td>issue PDF</td>
</tr>
<tr class="even">
<td><p><code>off2</code></p>
<p><code>off2html</code></p></td>
<td>HTML of the second article (i.e.&nbsp;second item in the masterfile’s <code>imports</code> list).</td>
</tr>
<tr class="odd">
<td><code>off2pdf</code></td>
<td>PDF of the second article (i.e.&nbsp;second item in the masterfile’s <code>imports</code> list).</td>
</tr>
<tr class="even">
<td><code>off7tex</code></td>
<td>LaTeX of seventh article</td>
</tr>
<tr class="odd">
<td><code>voltex</code></td>
<td>LaTeX of the issue</td>
</tr>
<tr class="even">
<td><code>refs</code></td>
<td>generate list of references cited for each article. Saved as <code>&lt;article_name&gt;.bib.txt</code>. Only works when for articles where references have been turned into citations and given in bibtex files.</td>
</tr>
<tr class="odd">
<td><p><code>bare</code></p>
<p><code>baretex</code></p></td>
<td>Issue covers only, PDF (<code>bare</code>) or LaTeX (<code>baretex</code>). articles (also <code>baretex</code>). Useful for cover design.</td>
</tr>
</tbody>
</table>
</section>
<section id="rendering-options" class="level3" data-number="31.2.3">
<h3 data-number="31.2.3" class="anchored" data-anchor-id="rendering-options"><span class="header-section-number">31.2.3</span> Rendering options</h3>
<dl>
<dt>Proof mode</dt>
<dd>
<p>Add <code>--proof</code> or <code>-p</code> at the end of your command (separated by a space):</p>
</dd>
<dd>
<div class="sourceCode" id="cb32"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="ex">dltc-make</span> off2 <span class="at">--proof</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="ex">dltc-make</span> off3pdf <span class="at">-p</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</dd>
<dd>
<p>This only affects PDF output.</p>
</dd>
<dt>Verbose or quiet</dt>
<dd>
<p>Add <code>--verbose</code> or <code>-v</code> to get a detailed log of the rendering process. Useful for debug. You can save the output in a log file like so:</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="ex">dltc-make</span> off2pdf <span class="at">-v</span> <span class="dv">2</span><span class="op">&gt;</span> out.log </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The <code>2&gt;</code> tells the computer to “redirect” the error/information output to a file named <code>out.log</code>.</p>
<p>You can make the output quieter with <code>--quiet</code> or <code>-q</code>. Though certain programs executed during the rendering process may still display error or output messages. If you don’t want to see anything just “redirect” the output to a file with <code>sh make.sh … 2&gt; out.log</code>.</p>
</dd>
</dl>
<div class="no-first-line-indent-after"></div>
<p>Single letter options can be combined: <code>-pv</code> is short for <code>--proof —verbose</code>.</p>
</section>
<section id="long-rendering-commands" class="level3" data-number="31.2.4">
<h3 data-number="31.2.4" class="anchored" data-anchor-id="long-rendering-commands"><span class="header-section-number">31.2.4</span> Long rendering commands</h3>
<p>Rendering commands can also be given in key-value form:</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="ex">dltc-make</span> mode=offprint chapter=3 format=pdf</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><p><code>mode</code> includes “offprint” aka “off”, “vol” aka “issue”, “bare” , “refs”</p></li>
<li><p><code>format</code> includes <code>pdf</code>, <code>html</code>, <code>tex</code> aka <code>latex</code> (also <code>epub</code>, <code>jats</code> but we don’t generate these yet)</p></li>
<li><p><code>chapter</code> includes chapter numbers.</p></li>
</ul>
<div class="no-first-line-indent-after"></div>
<p>The advantage is that you can specify multiple modes and formats separated by commas:</p>
<pre><code>dltc-make mode=off,refs chapter=3,4,5</code></pre>
<div class="no-first-line-indent-after"></div>
<p>Rendering options like <code>--proof</code> can be combined with long rendering commands.</p>
</section>
</section>
<section id="advice-on-html-vs-pdf" class="level2" data-number="31.3">
<h2 data-number="31.3" class="anchored" data-anchor-id="advice-on-html-vs-pdf"><span class="header-section-number">31.3</span> Advice on HTML vs PDF</h2>
<p>HTML is best when you start working on an article because it’s much faster and less error-prone than PDF. HTML only fails to produce an output if your document’s metadata is ill-formed or if there’s a bug in the “filters” we use to format outputs.</p>
<p>PDF is best for the latter typesetting stages when you need to check that the fine-grained outputs look right, that advanced LaTeX formulas or images work correctly, that there is no awkward page break and so on.</p>


</section>
</section>
<section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes">
<hr>
<ol>
<li id="fn1"><p>To check which processor you have, click on the Apple icon in the top left corner of your screen and select “About This Mac” from the dropdown menu. Look for the “Processor” field in the window that opens.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>If you encounter some issue with these instructions, check out the [official VSCode documentation instead][https://code.visualstudio.com/docs/sourcecontrol/github].<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../../chapters/copyediting/29-cop-markdown-cheatsheet.html" class="pagination-link" aria-label="Markdown Cheatsheet">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">29</span>&nbsp; <span class="chapter-title">Markdown Cheatsheet</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../../chapters/dialectica/65-dialectica-troubleshooting-outputs.html" class="pagination-link" aria-label="Troubleshooting outputs">
        <span class="nav-page-text"><span class="chapter-number">31</span>&nbsp; <span class="chapter-title">Troubleshooting outputs</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>